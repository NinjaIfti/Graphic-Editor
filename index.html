<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Graphic Editor</title>
    <link href="/css/app.css" rel="stylesheet" />
  </head>
  <body x-data="fabric" class="bg-[#eff3f6]">
  <!-- Context Menu-->
  <div
          x-show="contextMenu.isOpen"
          x-cloak
          @click.away="contextMenu.close()"
          :style="`top: ${contextMenu.posY}px; left: ${contextMenu.posX}px;`"
          class="fixed bg-gray-800 text-white rounded shadow-lg z-[999999] w-64 overflow-hidden"
  >
    <ul class="py-1">
      <!-- Forward -->
      <li
              @click="contextMenu.handleAction('bringForward')"
              class="px-4 py-2 flex items-center justify-between hover:bg-gray-700 cursor-pointer"
      >
        <div class="flex items-center space-x-2">
          <svg
                  class="w-5 h-5 text-gray-200"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 -960 960 960"
          >
            <path
                    fill="currentColor"
                    d="M480-528 296-344l-56-56 240-240 240 240-56 56-184-184Z"
            />
          </svg>
          <span>Forward</span>
        </div>
        <div class="text-xs text-gray-400">ctrl + [</div>
      </li>

      <!-- Backward -->
      <li
              @click="contextMenu.handleAction('sendBackwards')"
              class="px-4 py-2 flex items-center justify-between hover:bg-gray-700 cursor-pointer"
      >
        <div class="flex items-center space-x-2">
          <svg
                  class="w-5 h-5 text-gray-200"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 -960 960 960"
          >
            <path
                    fill="currentColor"
                    d="M480-333 240-573l51-51 189 189 189-189 51 51-240 240Z"
            />
          </svg>
          <span>Backward</span>
        </div>
        <div class="text-xs text-gray-400">ctrl + ]</div>
      </li>

      <hr class="border-gray-600 my-1" />

      <!-- Lock/Unlock -->
      <li
              @click="contextMenu.toggleLock()"
              class="px-4 py-2 flex items-center justify-between hover:bg-gray-700 cursor-pointer"
      >
        <div class="flex items-center space-x-2">
          <svg
                  x-show="!contextMenu.isLocked"
                  class="w-4 h-4 text-gray-200"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 -960 960 960"
          >
            <path
                    fill="currentColor"
                    d="M240-80q-33 0-56.5-23.5T160-160v-400q0-33 23.5-56.5T240-640h40v-80q0-83 58.5-141.5T480-920q83 0 141.5 58.5T680-720v80h40q33 0 56.5 23.5T800-560v400q0 33-23.5 56.5T720-80H240Zm0-80h480v-400H240v400Zm240-120q33 0 56.5-23.5T560-360q0-33-23.5-56.5T480-440q-33 0-56.5 23.5T400-360q0 33 23.5 56.5T480-280ZM360-640h240v-80q0-50-35-85t-85-35q-50 0-85 35t-35 85v80ZM240-160v-400 400Z"
            />
          </svg>
          <svg
                  x-show="contextMenu.isLocked"
                  class="w-4 h-4 text-gray-200"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 -960 960 960"
          >
            <path
                    fill="currentColor"
                    d="M240-640h360v-80q0-50-35-85t-85-35q-50 0-85 35t-35 85h-80q0-83 58.5-141.5T480-920q83 0 141.5 58.5T680-720v80h40q33 0 56.5 23.5T800-560v400q0 33-23.5 56.5T720-80H240q-33 0-56.5-23.5T160-160v-400q0-33 23.5-56.5T240-640Zm0 480h480v-400H240v400Zm240-120q33 0 56.5-23.5T560-360q0-33-23.5-56.5T480-440q-33 0-56.5 23.5T400-360q0 33 23.5 56.5T480-280ZM240-160v-400 400Z"
            />
          </svg>
          <span x-text="contextMenu.isLocked ? 'Unlock' : 'Lock'"></span>
        </div>
        <div class="text-xs text-gray-400">ctrl + L</div>
      </li>

      <!-- Group/Ungroup -->
      <li
              @click="contextMenu.toggleGroup()"
              class="px-4 py-2 flex items-center justify-between hover:bg-gray-700 cursor-pointer"
      >
        <div class="flex items-center space-x-2">
          <svg
                  x-show="!contextMenu.isGrouped"
                  class="w-4 h-4 text-gray-200"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
          >
            <path
                    fill="currentColor"
                    d="M20 17.05A2.5 2.5 0 1 1 17.05 20H6.95A2.5 2.5 0 1 1 4 17.05V6.95A2.5 2.5 0 1 1 6.95 4h10.1A2.5 2.5 0 1 1 20 6.95v10.1zm-1.5.16V6.79a2.5 2.5 0 0 1-1.3-1.29H6.8a2.5 2.5 0 0 1-1.3 1.3v10.4a2.5 2.5 0 0 1 1.3 1.3h10.4a2.5 2.5 0 0 1 1.3-1.3zM4.5 5.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 15a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm15-15a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 15a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm-9-6.5a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7zm0-1.5a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm4.75-2.5h1.5v5c0 .97-.78 1.75-1.75 1.75h-5v-1.5h5c.14 0 .25-.11.25-.25v-5z"
            />
          </svg>
          <svg
                  x-show="contextMenu.isGrouped"
                  class="w-4 h-4 text-gray-200"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
          >
            <path
                    fill="currentColor"
                    d="M17 9h3v11H9v-3c.51 0 1.01-.05 1.5-.14v1.64h8v-8h-1.64c.1-.49.14-.99.14-1.5zm-8 6A6 6 0 1 1 9 3a6 6 0 0 1 0 12zm0-1.5a4.5 4.5 0 1 0 0-9 4.5 4.5 0 0 0 0 9z"
            />
          </svg>
          <span x-text="contextMenu.isGrouped ? 'Un Group' : 'Group'"></span>
        </div>
        <div class="text-xs text-gray-400">ctrl + G</div>
      </li>

      <hr class="border-gray-600 my-1" />

      <!-- Delete -->
      <li
              @click="contextMenu.handleAction('delete')"
              class="px-4 py-2 flex items-center justify-between hover:bg-gray-700 cursor-pointer"
      >
        <div class="flex items-center space-x-2">
          <svg
                  class="w-4 h-4 text-gray-200"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 448 512"
          >
            <path
                    fill="currentColor"
                    d="M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1 -32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1 -32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1 -32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.7 23.7 0 0 0 -21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0 -16-16z"
            />
          </svg>
          <span>Delete</span>
        </div>
        <div class="text-xs text-gray-400">Del</div>
      </li>
    </ul>
  </div>
    <!-- Navbar -->
    <div
            class="bg-white border-b border-[#0001] px-4 py-1 mb-5 flex items-center justify-between shadow-lg"
    >
      <div class="flex items-center justify-between w-full">
        <!-- Logo Section -->
        <h4 class="text-xl font-bold text-content-color">Steve Editor</h4>

        <div class="flex items-center justify-end mt-2">
          <div class="flex items-center space-x-4 mb-2">
            <!-- Export Buttons -->
            <button
                    @click="exportFunctions.downloadCanvas('png')"
                    class="flex items-center gap-2 px-4 py-1.5 bg-[#37495d] text-white rounded hover:bg-[#1d2839] transition-colors duration-200 shadow-sm cursor-pointer"
            >
              <svg
                      class="w-4 h-4"
                      xmlns="http://www.w3.org/2000/svg"
                      viewBox="0 -960 960 960"
              >
                <path
                        fill="currentColor"
                        d="M444-192v-438L243-429l-51-51 288-288 288 288-51 51-201-201v438h-72Z"
                />
              </svg>
              <span class="font-medium text-sm">PNG</span>
            </button>

            <button
                    @click="exportFunctions.downloadCanvas('jpg')"
                    class="flex items-center gap-2 px-4 py-1.5 bg-[#37495d] text-white rounded hover:bg-[#1d2839] transition-colors duration-200 shadow-sm cursor-pointer"
            >
              <svg
                      class="w-4 h-4"
                      xmlns="http://www.w3.org/2000/svg"
                      viewBox="0 -960 960 960"
              >
                <path
                        fill="currentColor"
                        d="M444-192v-438L243-429l-51-51 288-288 288 288-51 51-201-201v438h-72Z"
                />
              </svg>
              <span class="font-medium text-sm">JPG</span>
            </button>
          </div>
        </div>
      </div>
    </div>
    <!--Editor-->
    <div class="flex h-[calc(100%-55px)]">
      <!--Sidebar wrapper-->
      <div class="flex gap-[10px]">
        <!--  Mini Bar -->
        <div class="bg-white flex flex-col max-w-[90px] py-4 fixed left-0 top-0 bottom-0 h-screen relative justify-between z-[99] shadow-sm border-r border-[#ddd]">
          <!-- Items -->
          <div class="flex flex-col overflow-y-auto scrollbar-hide">
            <!-- Templates -->
            <div
                    @click="activeTool = 'templates'; changeTool('templates')"
                    :class="activeTool === 'templates' ? 'bg-[#ebebeb] rounded-md mx-2' : ''"
                    class="flex flex-col items-center py-3 px-2 cursor-pointer hover:bg-[#f8f9fa]"
            >
              <div class="mb-2">
                <svg
                        class="w-[22px] h-[22px] text-[#262626]"
                        viewBox="0 0 24 24"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                          fill-rule="evenodd"
                          clip-rule="evenodd"
                          d="M3 11.325c0-3.59 0-5.385.966-6.61a4.5 4.5 0 0 1 .748-.749C5.94 3 7.734 3 11.325 3h1.35c3.59 0 5.386 0 6.61.966.279.22.53.47.749.748C21 5.94 21 7.734 21 11.325v1.35c0 3.59 0 5.386-.966 6.61-.22.279-.47.53-.748.749-1.226.966-3.02.966-6.611.966h-1.35c-3.59 0-5.385 0-6.61-.966a4.497 4.497 0 0 1-.749-.748C3 18.06 3 16.266 3 12.675v-1.35ZM11.325 4.5H13.5v15h-2.175c-1.83 0-3.076-.002-4.021-.111-.914-.105-1.356-.293-1.661-.533a3.004 3.004 0 0 1-.499-.499c-.24-.305-.428-.747-.533-1.661-.109-.945-.111-2.19-.111-4.021v-1.35c0-1.83.002-3.076.11-4.021.106-.914.293-1.356.534-1.661a3 3 0 0 1 .499-.499c.305-.24.747-.428 1.661-.533.945-.109 2.19-.111 4.021-.111ZM15 19.486c.666-.014 1.22-.042 1.696-.097.914-.105 1.356-.293 1.661-.533.186-.146.353-.314.499-.499.24-.305.428-.747.533-1.661.109-.945.111-2.19.111-4.021v-1.657H15v8.468Zm4.494-9.968c-.01-.904-.037-1.619-.105-2.214-.105-.914-.293-1.356-.533-1.661a3.004 3.004 0 0 0-.499-.499c-.305-.24-.747-.428-1.661-.533A18.58 18.58 0 0 0 15 4.514v5.004h4.494Z"
                          fill="currentColor"
                  ></path>
                </svg>
              </div>
              <div class="text-xs text-center font-medium text-[#262626]">
                Templates
              </div>
            </div>

            <!-- Uploads -->
            <div
                    @click="activeTool = 'uploads'; changeTool('uploads')"
                    :class="activeTool === 'uploads' ? 'bg-[#ebebeb] rounded-md mx-2' : ''"
                    class="flex flex-col items-center py-3 px-2 cursor-pointer hover:bg-[#f8f9fa] mt-2"
            >
              <div class="mb-2">
                <svg
                        class="w-[22px] h-[22px] text-[#262626]"
                        viewBox="0 0 24 24"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                          d="M11.24 2.985c-2.735 0-5.04 2.075-5.316 4.788a.199.199 0 0 1-.123.162 5.729 5.729 0 0 0 1.994 11.097 5.727 5.727 0 0 0 5.727-5.727v-.486l1.782 1.782a.75.75 0 0 0 1.06-1.06l-3.062-3.063a.75.75 0 0 0-1.06 0L9.179 13.54a.75.75 0 0 0 1.06 1.06l1.783-1.781v.486A4.227 4.227 0 1 1 6.324 9.34a1.698 1.698 0 0 0 1.092-1.416c.198-1.943 1.855-3.44 3.825-3.44a3.848 3.848 0 0 1 3.785 3.174c.135.764.78 1.366 1.563 1.43 2.146.178 3.855 2.016 3.855 4.216a4.226 4.226 0 0 1-4.227 4.227h-1.914a.75.75 0 0 0 0 1.5h1.914a5.727 5.727 0 0 0 5.727-5.727c0-2.978-2.305-5.468-5.231-5.71a.25.25 0 0 1-.21-.196 5.348 5.348 0 0 0-5.262-4.414Z"
                          fill="currentColor"
                  ></path>
                </svg>
              </div>
              <div class="text-xs text-center font-medium text-[#262626]">
                Uploads
              </div>
            </div>

            <!-- Text -->
            <div
                    @click="activeTool = 'text'; changeTool('text')"
                    :class="activeTool === 'text' ? 'bg-[#ebebeb] rounded-md mx-2' : ''"
                    class="flex flex-col items-center py-3 px-2 cursor-pointer hover:bg-[#f8f9fa] mt-2"
            >
              <div class="mb-2">
                <svg
                        class="w-[22px] h-[22px] text-[#262626]"
                        viewBox="0 0 189.127 189.127"
                        xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                          d="M177.688,0H11.438c-4.143,0-7.5,3.358-7.5,7.5v46.23c0,4.142,3.357,7.5,7.5,7.5s7.5-3.358,7.5-7.5V15 h68.125v159.127H62.688c-4.143,0-7.5,3.358-7.5,7.5s3.357,7.5,7.5,7.5h63.75c4.143,0,7.5-3.358,7.5-7.5s-3.357-7.5-7.5-7.5h-24.375 V15h68.125v38.73c0,4.142,3.357,7.5,7.5,7.5s7.5-3.358,7.5-7.5V7.5C185.188,3.358,181.831,0,177.688,0z"
                          fill="currentColor"
                  ></path>
                </svg>
              </div>
              <div class="text-xs text-center font-medium text-[#262626]">
                Text
              </div>
            </div>

            <!-- Drawing -->
            <div
                    @click="activeTool = 'drawing'; changeTool('drawing')"
                    :class="activeTool === 'drawing' ? 'bg-[#ebebeb] rounded-md mx-2' : ''"
                    class="flex flex-col items-center py-3 px-2 cursor-pointer hover:bg-[#f8f9fa] mt-2"
            >
              <div class="mb-2">
                <svg
                        class="w-[22px] h-[22px] text-[#262626]"
                        viewBox="0 0 24 24"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                          fill-rule="evenodd"
                          clip-rule="evenodd"
                          d="M20.07 3.456a3.135 3.135 0 0 0-4.434 0L10.25 8.843a3.38 3.38 0 0 0-.884 1.55l-.845 3.292c-.205.8.522 1.527 1.322 1.323l3.278-.837a3.384 3.384 0 0 0 1.555-.886L20.07 7.89a3.135 3.135 0 0 0 0-4.434Zm-2.117 4.43 1.057-1.057a1.635 1.635 0 0 0-2.313-2.313l-1.056 1.057 2.312 2.312Zm-1.166 1.166-3.172 3.172c-.24.24-.539.41-.866.493l-2.602.665.67-2.616a1.88 1.88 0 0 1 .492-.862l3.165-3.164 2.313 2.312Z"
                          fill="currentColor"
                  ></path>
                  <path
                          d="M5.144 15.022a.641.641 0 1 0 0 1.282h13.751a2.109 2.109 0 0 1 0 4.218H9.194a.75.75 0 0 1 0-1.5h9.701a.609.609 0 1 0 0-1.218H5.144a2.141 2.141 0 0 1 0-4.282h1.862v1.5H5.144Z"
                          fill="currentColor"
                  ></path>
                </svg>
              </div>
              <div class="text-xs text-center font-medium text-[#262626]">
                Drawing
              </div>
            </div>

            <!-- Settings -->
            <div
                    @click="activeTool = 'settings'; changeTool('settings')"
                    :class="activeTool === 'settings' ? 'bg-[#ebebeb] rounded-md mx-2' : ''"
                    class="flex flex-col items-center py-3 px-2 cursor-pointer hover:bg-[#f8f9fa] mt-2"
            >
              <div class="mb-2">
                <svg
                        class="w-[22px] h-[22px] text-[#262626]"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="1.5"
                        xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                          d="M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z"
                          stroke="currentColor"
                          stroke-width="1.5"
                  />
                  <path
                          d="M19.4 15C19.2669 15.3016 19.2272 15.6362 19.286 15.9606C19.3448 16.285 19.4995 16.5843 19.73 16.82L19.79 16.88C19.976 17.0657 20.1235 17.2863 20.2241 17.5291C20.3248 17.7719 20.3766 18.0322 20.3766 18.295C20.3766 18.5578 20.3248 18.8181 20.2241 19.0609C20.1235 19.3037 19.976 19.5243 19.79 19.71C19.6043 19.896 19.3837 20.0435 19.1409 20.1441C18.8981 20.2448 18.6378 20.2966 18.375 20.2966C18.1122 20.2966 17.8519 20.2448 17.6091 20.1441C17.3663 20.0435 17.1457 19.896 16.96 19.71L16.9 19.65C16.6643 19.4195 16.365 19.2648 16.0406 19.206C15.7162 19.1472 15.3816 19.1869 15.08 19.32C14.7842 19.4468 14.532 19.6572 14.3543 19.9255C14.1766 20.1938 14.0813 20.5082 14.08 20.83V21C14.08 21.5304 13.8693 22.0391 13.4942 22.4142C13.1191 22.7893 12.6104 23 12.08 23C11.5496 23 11.0409 22.7893 10.6658 22.4142C10.2907 22.0391 10.08 21.5304 10.08 21V20.91C10.0723 20.579 9.96512 20.258 9.77251 19.9887C9.5799 19.7194 9.31074 19.5143 9 19.4C8.69838 19.2669 8.36381 19.2272 8.03941 19.286C7.71502 19.3448 7.41568 19.4995 7.18 19.73L7.12 19.79C6.93425 19.976 6.71368 20.1235 6.47088 20.2241C6.22808 20.3248 5.96783 20.3766 5.705 20.3766C5.44217 20.3766 5.18192 20.3248 4.93912 20.2241C4.69632 20.1235 4.47575 19.976 4.29 19.79C4.10405 19.6043 3.95653 19.3837 3.85588 19.1409C3.75523 18.8981 3.70343 18.6378 3.70343 18.375C3.70343 18.1122 3.75523 17.8519 3.85588 17.6091C3.95653 17.3663 4.10405 17.1457 4.29 16.96L4.35 16.9C4.58054 16.6643 4.73519 16.365 4.794 16.0406C4.85282 15.7162 4.81312 15.3816 4.68 15.08C4.55324 14.7842 4.34276 14.532 4.07447 14.3543C3.80618 14.1766 3.49179 14.0813 3.17 14.08H3C2.46957 14.08 1.96086 13.8693 1.58579 13.4942C1.21071 13.1191 1 12.6104 1 12.08C1 11.5496 1.21071 11.0409 1.58579 10.6658C1.96086 10.2907 2.46957 10.08 3 10.08H3.09C3.42099 10.0723 3.742 9.96512 4.0113 9.77251C4.28059 9.5799 4.48572 9.31074 4.6 9C4.73312 8.69838 4.77282 8.36381 4.714 8.03941C4.65519 7.71502 4.50054 7.41568 4.27 7.18L4.21 7.12C4.02405 6.93425 3.87653 6.71368 3.77588 6.47088C3.67523 6.22808 3.62343 5.96783 3.62343 5.705C3.62343 5.44217 3.67523 5.18192 3.77588 4.93912C3.87653 4.69632 4.02405 4.47575 4.21 4.29C4.39575 4.10405 4.61632 3.95653 4.85912 3.85588C5.10192 3.75523 5.36217 3.70343 5.625 3.70343C5.88783 3.70343 6.14808 3.75523 6.39088 3.85588C6.63368 3.95653 6.85425 4.10405 7.04 4.29L7.1 4.35C7.33568 4.58054 7.63502 4.73519 7.95941 4.794C8.28381 4.85282 8.61838 4.81312 8.92 4.68H9C9.29577 4.55324 9.54802 4.34276 9.72569 4.07447C9.90337 3.80618 9.99872 3.49179 10 3.17V3C10 2.46957 10.2107 1.96086 10.5858 1.58579C10.9609 1.21071 11.4696 1 12 1C12.5304 1 13.0391 1.21071 13.4142 1.58579C13.7893 1.96086 14 2.46957 14 3V3.09C14.0013 3.41179 14.0966 3.72618 14.2743 3.99447C14.452 4.26276 14.7042 4.47324 15 4.6C15.3016 4.73312 15.6362 4.77282 15.9606 4.714C16.285 4.65519 16.5843 4.50054 16.82 4.27L16.88 4.21C17.0657 4.02405 17.2863 3.87653 17.5291 3.77588C17.7719 3.67523 18.0322 3.62343 18.295 3.62343C18.5578 3.62343 18.8181 3.67523 19.0609 3.77588C19.3037 3.87653 19.5243 4.02405 19.71 4.21C19.896 4.39575 20.0435 4.61632 20.1441 4.85912C20.2448 5.10192 20.2966 5.36217 20.2966 5.625C20.2966 5.88783 20.2448 6.14808 20.1441 6.39088C20.0435 6.63368 19.896 6.85425 19.71 7.04L19.65 7.1C19.4195 7.33568 19.2648 7.63502 19.206 7.95941C19.1472 8.28381 19.1869 8.61838 19.32 8.92V9C19.4468 9.29577 19.6572 9.54802 19.9255 9.72569C20.1938 9.90337 20.5082 9.99872 20.83 10H21C21.5304 10 22.0391 10.2107 22.4142 10.5858C22.7893 10.9609 23 11.4696 23 12C23 12.5304 22.7893 13.0391 22.4142 13.4142C22.0391 13.7893 21.5304 14 21 14H20.91C20.5882 14.0013 20.2738 14.0966 20.0055 14.2743C19.7372 14.452 19.5268 14.7042 19.4 15Z"
                          stroke="currentColor"
                          stroke-width="1.5"
                  />
                </svg>
              </div>
              <div class="text-xs text-center font-medium text-[#262626]">
                Settings
              </div>
            </div>

            <!-- Categories Area -->
            <hr class="w-full my-3 border-[#ddd]" />

            <!-- Clip Arts -->
            <div
                    @click="activeTool = 'clip_arts'; changeTool('clip_arts')"
                    :class="activeTool === 'clip_arts' ? 'bg-[#ebebeb] rounded-md mx-2' : ''"
                    class="flex flex-col items-center py-3 px-2 cursor-pointer hover:bg-[#f8f9fa]"
            >
              <div class="mb-2">
                <svg
                        class="w-[22px] h-[22px] text-[#262626]"
                        viewBox="0 0 24 24"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                          d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"
                          fill="none"
                          stroke="currentColor"
                          stroke-width="1.5"
                  />
                </svg>
              </div>
              <div class="text-xs text-center font-medium text-[#262626]">
                Clip Arts
              </div>
            </div>
            <!-- Mask -->
            <div
                    @click="activeTool = 'mask'; changeTool('mask')"
                    :class="activeTool === 'mask' ? 'bg-[#ebebeb] rounded-md mx-2' : ''"
                    class="flex flex-col items-center py-3 px-2 cursor-pointer hover:bg-[#f8f9fa] mt-2"
            >
              <div class="mb-2">
                <svg
                        class="w-[22px] h-[22px] text-[#262626]"
                        viewBox="0 0 24 24"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                          d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-5-9c.83 0 1.5-.67 1.5-1.5S7.83 8 7 8s-1.5.67-1.5 1.5S6.17 11 7 11zm5-3c.83 0 1.5-.67 1.5-1.5S12.83 5 12 5s-1.5.67-1.5 1.5S11.17 8 12 8zm5 3c.83 0 1.5-.67 1.5-1.5S17.83 8 17 8s-1.5.67-1.5 1.5.67 1.5 1.5 1.5z"
                          fill="currentColor"
                  />
                </svg>
              </div>
              <div class="text-xs text-center font-medium text-[#262626]">
                Mask
              </div>
            </div>
          </div>

          <!-- Bottom Items -->
          <div class="flex flex-col">
            <!-- Layers -->
            <div
                    @click="activeTool = 'layers'; changeTool('layers')"
                    :class="activeTool === 'layers' ? 'bg-[#ebebeb] rounded-md mx-2' : ''"
                    class="flex flex-col items-center py-3 px-2 cursor-pointer hover:bg-[#f8f9fa]"
            >
              <div class="mb-2">
                <svg
                        class="w-[22px] h-[22px] text-[#262626]"
                        viewBox="0 0 24 24"
                        xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                          d="m19.474 12.838 1.697.835a1 1 0 0 1 0 1.795L13.32 19.33a3 3 0 0 1-2.649 0L2.82 15.468a1 1 0 0 1 0-1.795l1.697-.835 1.698.836-1.821.896 6.94 3.415a1.5 1.5 0 0 0 1.324 0l6.94-3.415-1.822-.896 1.7-.836ZM13.32 4.673l7.852 3.864a1 1 0 0 1 0 1.794l-7.852 3.864a3 3 0 0 1-2.649 0L2.82 10.33a1 1 0 0 1 0-1.794l7.851-3.864a3 3 0 0 1 2.65 0Zm-1.986 8.176a1.5 1.5 0 0 0 1.324 0l6.94-3.415-6.94-3.415a1.5 1.5 0 0 0-1.324 0l-6.94 3.415 6.94 3.415Z"
                          fill="currentColor"
                  ></path>
                </svg>
              </div>
              <div class="text-xs text-center font-medium text-[#262626]">
                Layers
              </div>
            </div>
          </div>
        </div>
        <!-- Panels -->
        <div
          class="min-w-[335px] max-w-[335px] h-full overflow-hidden relative py-2.5 px-0 rounded-[10px] block"
        >
          <!-- Templates Panel -->
          <div
            x-show="activeTool === 'templates'"
            class="h-full bg-white font-roboto box-border overflow-auto shadow-[0px_0px_10px_0px_#ddd] transition-[background,transform] duration-200 ease-in-out flex flex-col rounded-[6px] border border-[#ddd]"
          >
            <div class="p-4 border-b border-[#0001]">
              <h3 class="text-lg font-medium text-[#262626]">Templates</h3>
            </div>

            <div class="flex-1 overflow-y-auto p-4">
              <div class="text-center text-[#262626]">No templates found!</div>
            </div>
          </div>
          <!-- Uploads Panel -->
          <div
            class="h-full bg-white font-roboto box-border overflow-auto shadow-[0px_0px_10px_0px_#ddd] transition-[background,transform] duration-200 ease-in-out flex flex-col rounded-[6px] border border-[#ddd]"
            x-show="activeTool === 'uploads'"
          >
            <!-- Panel Header -->
            <div class="p-4 text-center border-b border-gray-200 bg-white">
              <h3 class="text-l font-bold text-[#333]">UPLOADS</h3>
            </div>

            <!-- Body -->
            <div class="flex-1 overflow-y-auto p-4 flex flex-col gap-4">
              <!-- Upload Btn -->
              <label
                class="flex items-center justify-center gap-2 py-2.5 px-4 bg-[#34495e] hover:bg-[#2c3e50] text-white rounded-md cursor-pointer transition shadow-md"
              >
                <svg
                  class="w-4 h-4 text-white"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 -960 960 960"
                >
                  <path
                    fill="currentColor"
                    d="M444-192v-438L243-429l-51-51 288-288 288 288-51 51-201-201v438h-72Z"
                  />
                </svg>
                <span class="text-base font-medium">Upload File</span>
                <input
                  type="file"
                  class="hidden"
                  id="upload-file-inp"
                  multiple
                  @change="uploads.handleFileUpload($event)"
                />
              </label>

              <!-- Media Component -->
              <div class="flex-1 overflow-y-auto">
                <div
                  class="grid grid-cols-2 md:grid-cols-3 gap-2"
                  id="file-upload-con"
                  x-show="uploads.files.length > 0"
                  x-effect="uploads.filesUpdated"
                ></div>
                <div
                  class="text-center text-gray-500 py-12 text-xl font-medium"
                  x-show="uploads.files.length === 0"
                >
                  No uploads found!
                </div>
              </div>

              <!-- Image Tools -->
              <div
                x-show="uploads.selectedObject && uploads.selectedObject.type === 'image'"
                class="space-y-4"
              >
                <!-- Filters -->
                <div class="space-y-2">
                  <div class="flex justify-between items-center">
                    <span class="font-medium text-sm">Filters:</span>
                    <button
                      @click="uploads.resetFilters()"
                      class="text-[#262626] hover:text-[#1d2839] p-1 rounded-full hover:bg-[#f8f9fa] transition"
                    >
                      <svg
                        class="w-[17px] h-[17px]"
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 -960 960 960"
                      >
                        <path
                          fill="currentColor"
                          d="M440-122q-121-15-200.5-105.5T160-440q0-66 26-126.5T260-672l57 57q-38 34-57.5 79T240-440q0 88 56 155.5T440-202v80Zm80 0v-80q87-16 143.5-83T720-440q0-100-70-170t-170-70h-3l44 44-56 56-140-140 140-140 56 56-44 44h3q134 0 227 93t93 227q0 121-79.5 211.5T520-122Z"
                        ></path>
                      </svg>
                    </button>
                  </div>

                  <!-- Filter Previews - Horizontal Scroll -->
                  <div
                    class="flex overflow-x-auto pb-2 space-x-3 scrollbar-thin scrollbar-thumb-[#ebebeb]"
                  >
                    <!-- Black White -->
                    <div
                      @click="uploads.applyCustomFilter('black_white')"
                      :class="uploads.activeFilter === 'black_white' ? 'ring-2 ring-[#007bff]' : ''"
                      class="flex flex-col items-center min-w-[80px] cursor-pointer"
                    >
                      <div class="w-16 h-16 overflow-hidden rounded mb-1">
                        <img
                          src="./images/filters/black_white.png"
                          alt="Black White filter"
                          class="w-full h-full object-cover"
                        />
                      </div>
                      <span class="text-xs">Black White</span>
                    </div>

                    <!-- Brownie -->
                    <div
                      @click="uploads.applyCustomFilter('brownie')"
                      :class="uploads.activeFilter === 'brownie' ? 'ring-2 ring-[#007bff]' : ''"
                      class="flex flex-col items-center min-w-[80px] cursor-pointer"
                    >
                      <div class="w-16 h-16 overflow-hidden rounded mb-1">
                        <img
                          src="./images/filters/brownie.png"
                          alt="Brownie filter"
                          class="w-full h-full object-cover"
                        />
                      </div>
                      <span class="text-xs">Brownie</span>
                    </div>

                    <!-- Grayscale -->
                    <div
                      @click="uploads.applyCustomFilter('grayscale')"
                      :class="uploads.activeFilter === 'grayscale' ? 'ring-2 ring-[#007bff]' : ''"
                      class="flex flex-col items-center min-w-[80px] cursor-pointer"
                    >
                      <div class="w-16 h-16 overflow-hidden rounded mb-1">
                        <img
                          src="./images/filters/grayscale.png"
                          alt="Grayscale filter"
                          class="w-full h-full object-cover"
                        />
                      </div>
                      <span class="text-xs">Grayscale</span>
                    </div>

                    <!-- Invert -->
                    <div
                      @click="uploads.applyCustomFilter('invert')"
                      :class="uploads.activeFilter === 'invert' ? 'ring-2 ring-[#007bff]' : ''"
                      class="flex flex-col items-center min-w-[80px] cursor-pointer"
                    >
                      <div class="w-16 h-16 overflow-hidden rounded mb-1">
                        <img
                          src="./images/filters/invert.png"
                          alt="Invert filter"
                          class="w-full h-full object-cover"
                        />
                      </div>
                      <span class="text-xs">Invert</span>
                    </div>

                    <!-- Sepia -->
                    <div
                      @click="uploads.applyCustomFilter('sepia')"
                      :class="uploads.activeFilter === 'sepia' ? 'ring-2 ring-[#007bff]' : ''"
                      class="flex flex-col items-center min-w-[80px] cursor-pointer"
                    >
                      <div class="w-16 h-16 overflow-hidden rounded mb-1">
                        <img
                          src="./images/filters/sepia.png"
                          alt="Sepia filter"
                          class="w-full h-full object-cover"
                        />
                      </div>
                      <span class="text-xs">Sepia</span>
                    </div>

                    <!-- Kodachrome -->
                    <div
                      @click="uploads.applyCustomFilter('kodachrome')"
                      :class="uploads.activeFilter === 'kodachrome' ? 'ring-2 ring-[#007bff]' : ''"
                      class="flex flex-col items-center min-w-[80px] cursor-pointer"
                    >
                      <div class="w-16 h-16 overflow-hidden rounded mb-1">
                        <img
                          src="./images/filters/kodachrome.png"
                          alt="Kodachrome filter"
                          class="w-full h-full object-cover"
                        />
                      </div>
                      <span class="text-xs">Kodachrome</span>
                    </div>

                    <!-- Technicolor -->
                    <div
                      @click="uploads.applyCustomFilter('technicolor')"
                      :class="uploads.activeFilter === 'technicolor' ? 'ring-2 ring-[#007bff]' : ''"
                      class="flex flex-col items-center min-w-[80px] cursor-pointer"
                    >
                      <div class="w-16 h-16 overflow-hidden rounded mb-1">
                        <img
                          src="./images/filters/technicolor.png"
                          alt="Technicolor filter"
                          class="w-full h-full object-cover"
                        />
                      </div>
                      <span class="text-xs">Technicolor</span>
                    </div>

                    <!-- Sharpen -->
                    <div
                      @click="uploads.applyCustomFilter('sharpen')"
                      :class="uploads.activeFilter === 'sharpen' ? 'ring-2 ring-[#007bff]' : ''"
                      class="flex flex-col items-center min-w-[80px] cursor-pointer"
                    >
                      <div class="w-16 h-16 overflow-hidden rounded mb-1">
                        <img
                          src="./images/filters/sharpen.png"
                          alt="Sharpen filter"
                          class="w-full h-full object-cover"
                        />
                      </div>
                      <span class="text-xs">Sharpen</span>
                    </div>

                    <!-- Polaroid -->
                    <div
                      @click="uploads.applyCustomFilter('polaroid')"
                      :class="uploads.activeFilter === 'polaroid' ? 'ring-2 ring-[#007bff]' : ''"
                      class="flex flex-col items-center min-w-[80px] cursor-pointer"
                    >
                      <div class="w-16 h-16 overflow-hidden rounded mb-1">
                        <img
                          src="./images/filters/polaroid.png"
                          alt="Polaroid filter"
                          class="w-full h-full object-cover"
                        />
                      </div>
                      <span class="text-xs">Polaroid</span>
                    </div>

                    <!-- Emboss -->
                    <div
                      @click="uploads.applyCustomFilter('emboss')"
                      :class="uploads.activeFilter === 'emboss' ? 'ring-2 ring-[#007bff]' : ''"
                      class="flex flex-col items-center min-w-[80px] cursor-pointer"
                    >
                      <div class="w-16 h-16 overflow-hidden rounded mb-1">
                        <img
                          src="./images/filters/emboss.png"
                          alt="Emboss filter"
                          class="w-full h-full object-cover"
                        />
                      </div>
                      <span class="text-xs">Emboss</span>
                    </div>

                    <!-- Vintage -->
                    <div
                      @click="uploads.applyCustomFilter('vintage')"
                      :class="uploads.activeFilter === 'vintage' ? 'ring-2 ring-[#007bff]' : ''"
                      class="flex flex-col items-center min-w-[80px] cursor-pointer"
                    >
                      <div class="w-16 h-16 overflow-hidden rounded mb-1">
                        <img
                          src="./images/filters/vintage.png"
                          alt="Vintage filter"
                          class="w-full h-full object-cover"
                        />
                      </div>
                      <span class="text-xs">Vintage</span>
                    </div>
                  </div>
                </div>

                <!-- Image Filters -->
                <div class="space-y-3" x-cloak x-show="uploads.selectedImage">
                  <h2 class="text-lg font-semibold mb-2">Image Filters</h2>

                  <!-- Brightness -->
                  <div class="space-y-1">
                    <div class="flex justify-between items-center">
                      <span class="text-sm font-medium">Brightness</span>
                      <span
                        class="text-xs bg-[#f8f9fa] px-2 py-1 rounded"
                        x-text="Math.floor(uploads.filters.brightness * 100) + '%'"
                      >
                      </span>
                    </div>
                    <input
                      type="range"
                      class="w-full h-2 bg-[#ebebeb] rounded-lg appearance-none cursor-pointer"
                      min="-1"
                      max="1"
                      step="0.01"
                      x-model="uploads.filters.brightness"
                      @input="uploads.applySimpleFilter('brightness', $event.target.value)"
                    />
                  </div>

                  <!-- Contrast -->
                  <div class="space-y-1">
                    <div class="flex justify-between items-center">
                      <span class="text-sm font-medium">Contrast</span>
                      <span
                        class="text-xs bg-[#f8f9fa] px-2 py-1 rounded"
                        x-text="Math.floor(uploads.filters.contrast * 100) + '%'"
                      >
                      </span>
                    </div>
                    <input
                      type="range"
                      class="w-full h-2 bg-[#ebebeb] rounded-lg appearance-none cursor-pointer"
                      min="-1"
                      max="1"
                      step="0.01"
                      x-model="uploads.filters.contrast"
                      @input="uploads.applySimpleFilter('contrast', $event.target.value)"
                    />
                  </div>

                  <!-- Blur -->
                  <div class="space-y-1">
                    <div class="flex justify-between items-center">
                      <span class="text-sm font-medium">Blur</span>
                      <span
                        class="text-xs bg-[#f8f9fa] px-2 py-1 rounded"
                        x-text="Math.floor(uploads.filters.blur * 100) + '%'"
                      >
                      </span>
                    </div>
                    <input
                      type="range"
                      class="w-full h-2 bg-[#ebebeb] rounded-lg appearance-none cursor-pointer"
                      min="0"
                      max="1"
                      step="0.01"
                      x-model="uploads.filters.blur"
                      @input="uploads.applySimpleFilter('blur', $event.target.value)"
                    />
                  </div>

                  <!-- Noise -->
                  <div class="space-y-1">
                    <div class="flex justify-between items-center">
                      <span class="text-sm font-medium">Noise</span>
                      <span
                        class="text-xs bg-[#f8f9fa] px-2 py-1 rounded"
                        x-text="Math.floor(uploads.filters.noise * 100) + '%'"
                      >
                      </span>
                    </div>
                    <input
                      type="range"
                      class="w-full h-2 bg-[#ebebeb] rounded-lg appearance-none cursor-pointer"
                      min="0"
                      max="10"
                      step="0.1"
                      x-model="uploads.filters.noise"
                      @input="uploads.applySimpleFilter('noise', $event.target.value)"
                    />
                  </div>

                  <!-- Saturation -->
                  <div class="space-y-1">
                    <div class="flex justify-between items-center">
                      <span class="text-sm font-medium">Saturation</span>
                      <span
                        class="text-xs bg-[#f8f9fa] px-2 py-1 rounded"
                        x-text="Math.floor(uploads.filters.saturation * 100) + '%'"
                      >
                      </span>
                    </div>
                    <input
                      type="range"
                      class="w-full h-2 bg-[#ebebeb] rounded-lg appearance-none cursor-pointer"
                      min="-1"
                      max="1"
                      step="0.01"
                      x-model="uploads.filters.saturation"
                      @input="uploads.applySimpleFilter('saturation', $event.target.value)"
                    />
                  </div>

                  <!-- Hue -->
                  <div class="space-y-1">
                    <div class="flex justify-between items-center">
                      <span class="text-sm font-medium">Hue</span>
                      <span
                        class="text-xs bg-[#f8f9fa] px-2 py-1 rounded"
                        x-text="Math.floor(uploads.filters.hue * 100) + '%'"
                      >
                      </span>
                    </div>
                    <input
                      type="range"
                      class="w-full h-2 bg-[#ebebeb] rounded-lg appearance-none cursor-pointer"
                      min="-2"
                      max="2"
                      step="0.01"
                      x-model="uploads.filters.hue"
                      @input="uploads.applySimpleFilter('hue', $event.target.value)"
                    />
                  </div>

                  <!-- Pixelate -->
                  <div class="space-y-1">
                    <div class="flex justify-between items-center">
                      <span class="text-sm font-medium">Pixelate</span>
                      <span
                        class="text-xs bg-[#f8f9fa] px-2 py-1 rounded"
                        x-text="uploads.filters.pixelate"
                      >
                      </span>
                    </div>
                    <input
                      type="range"
                      class="w-full h-2 bg-[#ebebeb] rounded-lg appearance-none cursor-pointer"
                      min="2"
                      max="20"
                      step="1"
                      x-model="uploads.filters.pixelate"
                      @input="uploads.applySimpleFilter('pixelate', $event.target.value)"
                    />
                  </div>

                  <!-- Reset Filters Button -->
                  <div class="mt-4">
                    <button
                      class="w-full py-2 bg-[#ebebeb] hover:bg-[#dddddd4a] rounded font-medium text-sm transition"
                      @click="uploads.resetFilters()"
                    >
                      Reset Filters
                    </button>
                  </div>
                </div>

                <!-- Object properties -->
                <div class="space-y-3">
                  <!-- Opacity -->
                  <div class="space-y-1">
                    <div class="flex justify-between items-center">
                      <span class="text-sm font-medium">Opacity</span>
                      <input
                        type="number"
                        class="w-12 bg-[#f8f9fa] rounded text-center px-1 py-0.5 text-sm"
                        x-model="uploads.objectProperties.opacity"
                        readonly
                      />
                    </div>
                    <input
                      type="range"
                      class="w-full h-2 bg-[#ebebeb] rounded-lg appearance-none cursor-pointer"
                      min="0"
                      max="1"
                      step="0.1"
                      x-model="uploads.objectProperties.opacity"
                      @input="uploads.updateObjectProperty('opacity', $event.target.value)"
                    />
                  </div>

                  <!-- Outline -->
                  <div class="space-y-1">
                    <div class="flex justify-between items-center">
                      <span class="text-sm font-medium">Outline</span>
                      <div class="flex items-center">
                        <input
                          type="color"
                          class="w-6 h-6 mr-2"
                          x-model="uploads.objectProperties.stroke"
                          @input="uploads.updateObjectProperty('stroke', $event.target.value)"
                        />
                        <input
                          type="number"
                          class="w-12 bg-[#f8f9fa] rounded text-center px-1 py-0.5 text-sm"
                          x-model="uploads.objectProperties.strokeWidth"
                          readonly
                        />
                      </div>
                    </div>
                    <input
                      type="range"
                      class="w-full h-2 bg-[#ebebeb] rounded-lg appearance-none cursor-pointer"
                      min="0"
                      max="2"
                      step="0.1"
                      x-model="uploads.objectProperties.strokeWidth"
                      @input="uploads.updateObjectProperty('strokeWidth', $event.target.value)"
                    />
                  </div>

                  <!-- Radius -->
                  <div class="space-y-1">
                    <div class="flex justify-between items-center">
                      <span class="text-sm font-medium">Radius</span>
                      <input
                        type="number"
                        class="w-12 bg-[#f8f9fa] rounded text-center px-1 py-0.5 text-sm"
                        x-model="uploads.objectProperties.radius"
                        readonly
                      />
                    </div>
                    <input
                      type="range"
                      class="w-full h-2 bg-[#ebebeb] rounded-lg appearance-none cursor-pointer"
                      min="0"
                      max="100"
                      step="1"
                      x-model="uploads.objectProperties.radius"
                      @input="uploads.updateObjectProperty('clipPath', $event.target.value)"
                    />
                  </div>

                  <!-- Distortion (Skew) -->
                  <div class="border rounded-md overflow-hidden mt-4">
                    <div
                      class="bg-[#f8f9fa] p-2 border-b flex justify-between items-center cursor-pointer"
                      @click="$el.nextElementSibling.classList.toggle('hidden')"
                    >
                      <div class="flex items-center">
                        <svg
                          class="w-4 h-4 mr-2"
                          xmlns="http://www.w3.org/2000/svg"
                          viewBox="0 -960 960 960"
                        >
                          <path
                            fill="currentColor"
                            d="M504-480 320-664l56-56 240 240-240 240-56-56 184-184Z"
                          />
                        </svg>
                        <span class="font-medium">Distortion</span>
                      </div>
                    </div>
                    <div class="p-3 space-y-3 hidden">
                      <!-- SkewX -->
                      <div class="space-y-1">
                        <div class="flex justify-between items-center">
                          <span class="text-sm font-medium">SkewX</span>
                          <input
                            type="number"
                            class="w-12 bg-[#f8f9fa] rounded text-center px-1 py-0.5 text-sm"
                            x-model="uploads.objectProperties.skewX"
                          />
                        </div>
                        <input
                          type="range"
                          class="w-full h-2 bg-[#ebebeb] rounded-lg appearance-none cursor-pointer"
                          min="0"
                          max="180"
                          step="1"
                          x-model="uploads.objectProperties.skewX"
                          @input="uploads.updateObjectProperty('skewX', $event.target.value)"
                        />
                      </div>

                      <!-- SkewY -->
                      <div class="space-y-1">
                        <div class="flex justify-between items-center">
                          <span class="text-sm font-medium">SkewY</span>
                          <input
                            type="number"
                            class="w-12 bg-[#f8f9fa] rounded text-center px-1 py-0.5 text-sm"
                            x-model="uploads.objectProperties.skewY"
                          />
                        </div>
                        <input
                          type="range"
                          class="w-full h-2 bg-[#ebebeb] rounded-lg appearance-none cursor-pointer"
                          min="0"
                          max="180"
                          step="1"
                          x-model="uploads.objectProperties.skewY"
                          @input="uploads.updateObjectProperty('skewY', $event.target.value)"
                        />
                      </div>
                    </div>
                  </div>

                  <!-- Shadow -->
                  <div class="border rounded-md overflow-hidden mt-4">
                    <div
                      class="bg-[#f8f9fa] p-2 border-b flex justify-between items-center cursor-pointer"
                      @click="$el.nextElementSibling.classList.toggle('hidden')"
                    >
                      <div class="flex items-center">
                        <svg
                          class="w-4 h-4 mr-2"
                          xmlns="http://www.w3.org/2000/svg"
                          viewBox="0 -960 960 960"
                        >
                          <path
                            fill="currentColor"
                            d="M504-480 320-664l56-56 240 240-240 240-56-56 184-184Z"
                          />
                        </svg>
                        <span class="font-medium">Shadow</span>
                      </div>
                      <div
                        class="relative inline-block w-10 align-middle select-none"
                      >
                        <input
                          type="checkbox"
                          id="shadow-toggle"
                          class="opacity-0 absolute block w-6 h-6 cursor-pointer"
                          x-model="uploads.objectProperties.shadowEnabled"
                          @change="uploads.updateObjectProperty('shadowEnabled', uploads.objectProperties.shadowEnabled)"
                        />
                        <label
                          for="shadow-toggle"
                          class="block overflow-hidden h-6 rounded-full bg-gray-300 cursor-pointer"
                        >
                          <span
                            class="dot absolute transition-all duration-300 w-6 h-6 rounded-full bg-white border border-gray-300 transform"
                            :class="uploads.objectProperties.shadowEnabled ? 'translate-x-4 bg-blue-500' : 'translate-x-0'"
                          ></span>
                        </label>
                      </div>
                    </div>
                    <div
                      class="p-3 space-y-3 hidden"
                      x-show="uploads.objectProperties.shadowEnabled"
                    >
                      <!-- Shadow Color -->
                      <div class="space-y-1">
                        <span class="text-sm font-medium">Color</span>
                        <input
                          type="color"
                          class="w-full h-10"
                          x-model="uploads.objectProperties.shadowColor"
                          @input="uploads.updateObjectProperty('shadowColor', $event.target.value)"
                        />
                      </div>

                      <!-- Shadow Blur -->
                      <div class="space-y-1">
                        <div class="flex justify-between items-center">
                          <span class="text-sm font-medium">Blur</span>
                          <input
                            type="number"
                            class="w-12 bg-[#f8f9fa] rounded text-center px-1 py-0.5 text-sm"
                            x-model="uploads.objectProperties.shadowBlur"
                            readonly
                          />
                        </div>
                        <input
                          type="range"
                          class="w-full h-2 bg-[#ebebeb] rounded-lg appearance-none cursor-pointer"
                          min="0"
                          max="50"
                          step="1"
                          x-model="uploads.objectProperties.shadowBlur"
                          @input="uploads.updateObjectProperty('shadowBlur', $event.target.value)"
                        />
                      </div>

                      <!-- Shadow OffsetX -->
                      <div class="space-y-1">
                        <div class="flex justify-between items-center">
                          <span class="text-sm font-medium">Offset X</span>
                          <input
                            type="number"
                            class="w-12 bg-[#f8f9fa] rounded text-center px-1 py-0.5 text-sm"
                            x-model="uploads.objectProperties.shadowOffsetX"
                            readonly
                          />
                        </div>
                        <input
                          type="range"
                          class="w-full h-2 bg-[#ebebeb] rounded-lg appearance-none cursor-pointer"
                          min="-100"
                          max="100"
                          step="1"
                          x-model="uploads.objectProperties.shadowOffsetX"
                          @input="uploads.updateObjectProperty('shadowOffsetX', $event.target.value)"
                        />
                      </div>

                      <!-- Shadow OffsetY -->
                      <div class="space-y-1">
                        <div class="flex justify-between items-center">
                          <span class="text-sm font-medium">Offset Y</span>
                          <input
                            type="number"
                            class="w-12 bg-[#f8f9fa] rounded text-center px-1 py-0.5 text-sm"
                            x-model="uploads.objectProperties.shadowOffsetY"
                            readonly
                          />
                        </div>
                        <input
                          type="range"
                          class="w-full h-2 bg-[#ebebeb] rounded-lg appearance-none cursor-pointer"
                          min="-100"
                          max="100"
                          step="1"
                          x-model="uploads.objectProperties.shadowOffsetY"
                          @input="uploads.updateObjectProperty('shadowOffsetY', $event.target.value)"
                        />
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Shape Tools -->
              <div
                x-show="uploads.selectedObject && uploads.selectedObject.type !== 'image'"
                class="space-y-4"
              >
                <!-- Fill Color -->
                <div class="space-y-1">
                  <span class="text-sm font-medium">Fill Color</span>
                  <div
                    class="w-full h-10 rounded border border-[#0001] overflow-hidden"
                  >
                    <input
                      type="color"
                      class="w-full h-12 transform -translate-y-1"
                      x-model="uploads.objectProperties.fill"
                      @input="uploads.updateObjectProperty('fill', $event.target.value)"
                    />
                  </div>
                </div>

                <!-- Opacity -->
                <div class="space-y-1">
                  <div class="flex justify-between items-center">
                    <span class="text-sm font-medium">Opacity</span>
                    <input
                      type="number"
                      class="w-12 bg-[#f8f9fa] rounded text-center px-1 py-0.5 text-sm"
                      x-model="uploads.objectProperties.opacity"
                      readonly
                    />
                  </div>
                  <input
                    type="range"
                    class="w-full h-2 bg-[#ebebeb] rounded-lg appearance-none cursor-pointer"
                    min="0"
                    max="1"
                    step="0.1"
                    x-model="uploads.objectProperties.opacity"
                    @input="uploads.updateObjectProperty('opacity', $event.target.value)"
                  />
                </div>

                <!-- Outline -->
                <div class="space-y-1">
                  <div class="flex justify-between items-center">
                    <span class="text-sm font-medium">Outline</span>
                    <div class="flex items-center">
                      <input
                        type="color"
                        class="w-6 h-6 mr-2"
                        x-model="uploads.objectProperties.stroke"
                        @input="uploads.updateObjectProperty('stroke', $event.target.value)"
                      />
                      <input
                        type="number"
                        class="w-12 bg-[#f8f9fa] rounded text-center px-1 py-0.5 text-sm"
                        x-model="uploads.objectProperties.strokeWidth"
                        readonly
                      />
                    </div>
                  </div>
                  <input
                    type="range"
                    class="w-full h-2 bg-[#ebebeb] rounded-lg appearance-none cursor-pointer"
                    min="0"
                    max="2"
                    step="0.1"
                    x-model="uploads.objectProperties.strokeWidth"
                    @input="uploads.updateObjectProperty('strokeWidth', $event.target.value)"
                  />
                </div>

                <!-- Radius -->
                <div class="space-y-1">
                  <div class="flex justify-between items-center">
                    <span class="text-sm font-medium">Radius</span>
                    <input
                      type="number"
                      class="w-12 bg-[#f8f9fa] rounded text-center px-1 py-0.5 text-sm"
                      x-model="uploads.objectProperties.radius"
                      readonly
                    />
                  </div>
                  <input
                    type="range"
                    class="w-full h-2 bg-[#ebebeb] rounded-lg appearance-none cursor-pointer"
                    min="0"
                    max="100"
                    step="1"
                    x-model="uploads.objectProperties.radius"
                    @input="uploads.updateObjectProperty('clipPath', $event.target.value)"
                  />
                </div>

                <!-- Distortion (Skew) -->
                <div class="border rounded-md overflow-hidden mt-4">
                  <div
                    class="bg-[#f8f9fa] p-2 border-b flex justify-between items-center cursor-pointer"
                    @click="$el.nextElementSibling.classList.toggle('hidden')"
                  >
                    <div class="flex items-center">
                      <svg
                        class="w-4 h-4 mr-2"
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 -960 960 960"
                      >
                        <path
                          fill="currentColor"
                          d="M504-480 320-664l56-56 240 240-240 240-56-56 184-184Z"
                        />
                      </svg>
                      <span class="font-medium">Distortion</span>
                    </div>
                  </div>
                  <div class="p-3 space-y-3 hidden">
                    <!-- SkewX -->
                    <div class="space-y-1">
                      <div class="flex justify-between items-center">
                        <span class="text-sm font-medium">SkewX</span>
                        <input
                          type="number"
                          class="w-12 bg-[#f8f9fa] rounded text-center px-1 py-0.5 text-sm"
                          x-model="uploads.objectProperties.skewX"
                        />
                      </div>
                      <input
                        type="range"
                        class="w-full h-2 bg-[#ebebeb] rounded-lg appearance-none cursor-pointer"
                        min="0"
                        max="180"
                        step="1"
                        x-model="uploads.objectProperties.skewX"
                        @input="uploads.updateObjectProperty('skewX', $event.target.value)"
                      />
                    </div>

                    <!-- SkewY -->
                    <div class="space-y-1">
                      <div class="flex justify-between items-center">
                        <span class="text-sm font-medium">SkewY</span>
                        <input
                          type="number"
                          class="w-12 bg-[#f8f9fa] rounded text-center px-1 py-0.5 text-sm"
                          x-model="uploads.objectProperties.skewY"
                        />
                      </div>
                      <input
                        type="range"
                        class="w-full h-2 bg-[#ebebeb] rounded-lg appearance-none cursor-pointer"
                        min="0"
                        max="180"
                        step="1"
                        x-model="uploads.objectProperties.skewY"
                        @input="uploads.updateObjectProperty('skewY', $event.target.value)"
                      />
                    </div>
                  </div>
                </div>

                <!-- Shadow -->
                <div class="border rounded-md overflow-hidden mt-4">
                  <div
                    class="bg-[#f8f9fa] p-2 border-b flex justify-between items-center cursor-pointer"
                    @click="$el.nextElementSibling.classList.toggle('hidden')"
                  >
                    <div class="flex items-center">
                      <svg
                        class="w-4 h-4 mr-2"
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 -960 960 960"
                      >
                        <path
                          fill="currentColor"
                          d="M504-480 320-664l56-56 240 240-240 240-56-56 184-184Z"
                        />
                      </svg>
                      <span class="font-medium">Shadow</span>
                    </div>
                    <div
                      class="relative inline-block w-10 align-middle select-none"
                    >
                      <input
                        type="checkbox"
                        id="shadow-toggle-shape"
                        class="opacity-0 absolute block w-6 h-6 cursor-pointer"
                        x-model="uploads.objectProperties.shadowEnabled"
                        @change="uploads.updateObjectProperty('shadowEnabled', uploads.objectProperties.shadowEnabled)"
                      />
                      <label
                        for="shadow-toggle-shape"
                        class="block overflow-hidden h-6 rounded-full bg-gray-300 cursor-pointer"
                      >
                        <span
                          class="dot absolute transition-all duration-300 w-6 h-6 rounded-full bg-white border border-gray-300 transform"
                          :class="uploads.objectProperties.shadowEnabled ? 'translate-x-4 bg-blue-500' : 'translate-x-0'"
                        ></span>
                      </label>
                    </div>
                  </div>
                  <div
                    class="p-3 space-y-3 hidden"
                    x-show="uploads.objectProperties.shadowEnabled"
                  >
                    <!-- Shadow Color -->
                    <div class="space-y-1">
                      <span class="text-sm font-medium">Color</span>
                      <input
                        type="color"
                        class="w-full h-10"
                        x-model="uploads.objectProperties.shadowColor"
                        @input="uploads.updateObjectProperty('shadowColor', $event.target.value)"
                      />
                    </div>

                    <!-- Shadow Blur -->
                    <div class="space-y-1">
                      <div class="flex justify-between items-center">
                        <span class="text-sm font-medium">Blur</span>
                        <input
                          type="number"
                          class="w-12 bg-[#f8f9fa] rounded text-center px-1 py-0.5 text-sm"
                          x-model="uploads.objectProperties.shadowBlur"
                          readonly
                        />
                      </div>
                      <input
                        type="range"
                        class="w-full h-2 bg-[#ebebeb] rounded-lg appearance-none cursor-pointer"
                        min="0"
                        max="50"
                        step="1"
                        x-model="uploads.objectProperties.shadowBlur"
                        @input="uploads.updateObjectProperty('shadowBlur', $event.target.value)"
                      />
                    </div>

                    <!-- Shadow OffsetX -->
                    <div class="space-y-1">
                      <div class="flex justify-between items-center">
                        <span class="text-sm font-medium">Offset X</span>
                        <input
                          type="number"
                          class="w-12 bg-[#f8f9fa] rounded text-center px-1 py-0.5 text-sm"
                          x-model="uploads.objectProperties.shadowOffsetX"
                          readonly
                        />
                      </div>
                      <input
                        type="range"
                        class="w-full h-2 bg-[#ebebeb] rounded-lg appearance-none cursor-pointer"
                        min="-100"
                        max="100"
                        step="1"
                        x-model="uploads.objectProperties.shadowOffsetX"
                        @input="uploads.updateObjectProperty('shadowOffsetX', $event.target.value)"
                      />
                    </div>

                    <!-- Shadow OffsetY -->
                    <div class="space-y-1">
                      <div class="flex justify-between items-center">
                        <span class="text-sm font-medium">Offset Y</span>
                        <input
                          type="number"
                          class="w-12 bg-[#f8f9fa] rounded text-center px-1 py-0.5 text-sm"
                          x-model="uploads.objectProperties.shadowOffsetY"
                          readonly
                        />
                      </div>
                      <input
                        type="range"
                        class="w-full h-2 bg-[#ebebeb] rounded-lg appearance-none cursor-pointer"
                        min="-100"
                        max="100"
                        step="1"
                        x-model="uploads.objectProperties.shadowOffsetY"
                        @input="uploads.updateObjectProperty('shadowOffsetY', $event.target.value)"
                      />
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- Text Panel -->
          <div
            x-show="activeTool === 'text'"
            class="h-full bg-white font-roboto box-border overflow-auto shadow-[0px_0px_10px_0px_#ddd] transition-[background,transform] duration-200 ease-in-out flex flex-col rounded-[6px] border border-[#ddd]"
          >
            <!-- Panel Header -->
            <div class="p-4 border-b border-[#0001] text-center">
              <h3 class="text-lg font-medium text-[#262626]">TEXT</h3>
            </div>

            <!-- Panel Body -->
            <div class="flex-1 overflow-y-auto p-4 flex flex-col gap-4">
              <!-- Add Text Button -->
              <button
                class="w-full py-3 bg-[#37495d] text-white rounded flex items-center justify-center gap-2"
                @click="text.addHeading('paragraph')"
              >
                <svg
                  class="w-4 h-4"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M12 4V20M4 12H20"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                  />
                </svg>
                Add Text
              </button>

              <!-- Pre-Built Headings -->
              <div class="flex flex-col gap-2">
                <div
                  @click="text.addHeading('full')"
                  class="p-3 bg-white border border-[#0001] rounded cursor-pointer transition text-lg font-semibold"
                >
                  Add a heading
                </div>
                <div
                  @click="text.addHeading('sub')"
                  class="p-3 bg-white border border-[#0001] rounded cursor-pointer transition text-base font-medium"
                >
                  Add a subheading
                </div>
                <div
                  @click="text.addHeading('paragraph')"
                  class="p-3 bg-white border border-[#0001] rounded cursor-pointer transition text-sm"
                >
                  Add a little bit of body text
                </div>
              </div>

              <!-- Text Tools -->
              <div x-show="text.selectedObject" class="space-y-5">
                <!-- Text Modify Buttons -->
                <div class="flex items-center gap-1">
                  <!-- Color Picker -->
                  <div
                    class="w-8 h-8 rounded border border-[#0001] overflow-hidden"
                  >
                    <input
                      type="color"
                      class="w-10 h-10 transform -translate-x-1 -translate-y-1"
                      x-model="text.textProperties.fill"
                      @input="text.updateTextProperty('fill', $event.target.value)"
                    />
                  </div>

                  <!-- Bold/Normal -->
                  <button
                    @click="text.toggleFontWeight()"
                    :class="text.textProperties.fontWeight === 'bold' ? 'bg-[#007bff] text-white' : 'bg-[#ebebeb] text-[#262626]'"
                    class="w-8 h-8 flex items-center justify-center rounded"
                  >
                    <span class="font-bold">B</span>
                  </button>

                  <!-- Italic/Normal -->
                  <button
                    @click="text.toggleFontStyle()"
                    :class="text.textProperties.fontStyle === 'italic' ? 'bg-[#007bff] text-white' : 'bg-[#ebebeb] text-[#262626]'"
                    class="w-8 h-8 flex items-center justify-center rounded"
                  >
                    <span class="italic font-medium">I</span>
                  </button>

                  <!-- Underline/Normal -->
                  <button
                    @click="text.toggleUnderline()"
                    :class="text.textProperties.underline ? 'bg-[#007bff] text-white' : 'bg-[#ebebeb] text-[#262626]'"
                    class="w-8 h-8 flex items-center justify-center rounded"
                  >
                    <span class="underline font-medium">U</span>
                  </button>
                </div>

                <!-- Text Curve -->
                <div class="space-y-1">
                  <div class="flex justify-between items-center">
                    <span class="text-sm font-medium">Text Curve</span>
                    <input
                            type="number"
                            class="w-12 bg-[#f8f9fa] rounded text-center px-2 py-1 text-sm border border-[#0001]"
                            x-model="text.curveValue"
                            readonly
                    />
                  </div>
                  <div class="relative w-full">
                    <input
                            type="range"
                            class="w-full h-1 bg-[#ebebeb] rounded-lg appearance-none cursor-pointer z-10 opacity-0 absolute"
                            min="0"
                            max="5000"
                            value="2500"
                            step="1"
                            x-model="text.curveValue"
                            @input="text.updateTextCurve($event.target.value)"
                    />
                    <div class="w-full h-1 bg-[#ebebeb] rounded-lg"></div>
                    <div class="absolute top-[-0.5px] h-2 w-[1px] bg-black left-1/2 transform -translate-x-1/2"></div>
                    <div
                            class="absolute -top-3 w-5 h-5 bg-[#37495d] rounded-full"
                            :style="`left: calc(${text.curveValue / 5000 * 100}% - 10px); top: 2px;`"
                    ></div>
                  </div>
                  <div class="flex justify-between text-xs text-gray-500">
                    <span>-360°</span>
                    <span>0°</span>
                    <span>360°</span>
                  </div>
                </div>

                <!-- Font Family & Font Size -->
                <div class="space-y-1">
                  <span class="text-sm font-medium">Font Family</span>

                  <div class="flex items-center gap-2">
                    <!-- Font Family Dropdown -->
                    <div class="relative w-full">
                      <div
                        @click="text.showFontDropdown = !text.showFontDropdown"
                        class="flex items-center justify-between p-2 border border-[#0001] rounded cursor-pointer"
                      >
                        <span x-text="text.textProperties.fontFamily"
                          >Roboto</span
                        >
                        <svg
                          class="w-4 h-4 transition-transform"
                          :class="text.showFontDropdown ? 'rotate-180' : ''"
                          xmlns="http://www.w3.org/2000/svg"
                          viewBox="0 -960 960 960"
                        >
                          <path
                            fill="currentColor"
                            d="M480-333 240-573l51-51 189 189 189-189 51 51-240 240Z"
                          />
                        </svg>
                      </div>

                      <div
                        x-show="text.showFontDropdown"
                        @click.away="text.showFontDropdown = false"
                        x-transition
                        class="absolute z-10 w-full mt-1 bg-white border border-[#0001] rounded shadow-lg"
                      >
                        <!-- Search Bar -->
                        <div class="p-2 border-b border-[#0001]">
                          <input
                            type="text"
                            x-model="text.fontSearch"
                            @input="text.filterFonts()"
                            placeholder="Search fonts..."
                            class="w-full p-2 border border-[#0001] rounded"
                          />
                        </div>

                        <!-- Font List -->
                        <div class="max-h-60 overflow-y-auto p-1">
                          <template
                            x-for="font in text.filteredFonts"
                            :key="font"
                          >
                            <div
                              @click="text.selectFont(font); text.showFontDropdown = false"
                              class="p-2 hover:bg-[#f8f9fa] rounded cursor-pointer"
                              :style="`font-family: ${font}`"
                              x-text="font"
                            ></div>
                          </template>
                        </div>
                      </div>
                    </div>

                    <!-- Font Size -->
                    <input
                      type="number"
                      class="w-10 border border-[#0001] rounded text-center px-1 py-1 text-xs"
                      x-model="text.textProperties.fontSize"
                      @input="text.updateTextProperty('fontSize', $event.target.value)"
                      min="2"
                    />
                  </div>
                </div>

                <!-- Opacity -->
                <div class="space-y-1">
                  <div class="flex justify-between items-center">
                    <span class="text-sm font-medium">Opacity</span>
                    <input
                      type="number"
                      class="w-12 bg-[#f8f9fa] rounded text-center px-2 py-1 text-sm border border-[#0001]"
                      x-model="text.textProperties.opacity"
                      readonly
                    />
                  </div>
                  <div class="relative w-full">
                    <input
                      type="range"
                      class="w-full h-1 bg-[#ebebeb] rounded-lg appearance-none cursor-pointer z-10 opacity-0 absolute"
                      min="0"
                      max="1"
                      step="0.1"
                      x-model="text.textProperties.opacity"
                      @input="text.updateTextProperty('opacity', $event.target.value)"
                    />
                    <div class="w-full h-1 bg-[#ebebeb] rounded-lg"></div>
                    <div
                      class="absolute -top-3 w-5 h-5 bg-[#6b7280] rounded-full"
                      :style="`left: calc(${text.textProperties.opacity * 100}% - 10px); top: 4px;`"
                    ></div>
                    <div
                      class="absolute -top-3 w-5 h-5 bg-[#37495d] rounded-full"
                      :style="`left: calc(${text.textProperties.opacity * 100}% - 12px); top: 2px;`"
                    ></div>
                  </div>
                </div>

                <!-- Outline -->
                <div class="space-y-1">
                  <div class="flex justify-between items-center">
                    <span class="text-sm font-medium">Outline</span>
                    <div class="flex items-center space-x-2">
                      <div
                        class="w-6 h-6 rounded border border-[#0001] overflow-hidden"
                      >
                        <input
                          type="color"
                          class="w-8 h-8 transform -translate-x-1 -translate-y-1"
                          x-model="text.textProperties.stroke"
                          @input="text.updateTextProperty('stroke', $event.target.value)"
                        />
                      </div>
                      <input
                        type="number"
                        class="w-12 bg-[#f8f9fa] border border-[#0001] rounded text-center px-2 py-1 text-sm"
                        x-model="text.textProperties.strokeWidth"
                        readonly
                      />
                    </div>
                  </div>
                  <div class="relative w-full">
                    <input
                      type="range"
                      class="w-full h-1 bg-[#ebebeb] rounded-lg appearance-none cursor-pointer z-10 opacity-0 absolute"
                      min="0"
                      max="5"
                      step="0.1"
                      x-model="text.textProperties.strokeWidth"
                      @input="text.updateTextProperty('strokeWidth', $event.target.value)"
                    />
                    <div class="w-full h-1 bg-[#ebebeb] rounded-lg"></div>
                    <div
                      class="absolute -top-3 w-5 h-5 bg-[#6b7280] rounded-full"
                      :style="`left: calc(${text.textProperties.strokeWidth / 5 * 100}% - 10px); top: 4px;`"
                    ></div>
                    <div
                      class="absolute -top-3 w-5 h-5 bg-[#37495d] rounded-full"
                      :style="`left: calc(${text.textProperties.strokeWidth / 5 * 100}% - 12px); top: 2px;`"
                    ></div>
                  </div>
                </div>

                <!-- Letter Spacing -->
                <div class="space-y-1">
                  <div class="flex justify-between items-center">
                    <span class="text-sm font-medium">Letter Spacing</span>
                    <input
                      type="number"
                      class="w-12 bg-[#f8f9fa] border border-[#0001] rounded text-center px-2 py-1 text-sm"
                      x-model="text.textProperties.charSpacing"
                      readonly
                    />
                  </div>
                  <div class="relative w-full">
                    <input
                      type="range"
                      class="w-full h-1 bg-[#ebebeb] rounded-lg appearance-none cursor-pointer z-10 opacity-0 absolute"
                      min="0"
                      max="500"
                      x-model="text.textProperties.charSpacing"
                      @input="text.updateTextProperty('charSpacing', $event.target.value)"
                    />
                    <div class="w-full h-1 bg-[#ebebeb] rounded-lg"></div>
                    <div
                      class="absolute -top-3 w-5 h-5 bg-[#6b7280] rounded-full"
                      :style="`left: calc(${text.textProperties.charSpacing / 500 * 100}% - 10px); top: 4px;`"
                    ></div>
                    <div
                      class="absolute -top-3 w-5 h-5 bg-[#37495d] rounded-full"
                      :style="`left: calc(${text.textProperties.charSpacing / 500 * 100}% - 12px); top: 2px;`"
                    ></div>
                  </div>
                </div>

                <!-- Distortion -->
                <div
                  class="border border-[#0001] rounded overflow-hidden bg-[#37495d] text-white"
                >
                  <div
                    @click="text.showDistortion = !text.showDistortion"
                    class="flex justify-between items-center p-3 cursor-pointer"
                  >
                    <div class="flex items-center">
                      <svg
                        class="w-4 h-4 mr-2 transition-transform duration-200"
                        :class="text.showDistortion ? 'rotate-90' : ''"
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 -960 960 960"
                      >
                        <path
                          fill="currentColor"
                          d="M504-480 320-664l56-56 240 240-240 240-56-56 184-184Z"
                        />
                      </svg>
                      <span class="text-sm font-medium">Distortion</span>
                    </div>
                  </div>

                  <div
                    x-show="text.showDistortion"
                    x-transition
                    class="p-3 border-t border-[#0001] space-y-3 bg-white text-[#262626]"
                  >
                    <!-- SkewX -->
                    <div class="space-y-1">
                      <div class="flex justify-between items-center">
                        <span class="text-sm font-medium">SkewX</span>
                        <input
                          type="text"
                          class="w-12 bg-[#f8f9fa] rounded text-center px-1 py-0.5 text-sm border border-[#0001]"
                          x-model="text.textProperties.skewX"
                        />
                      </div>
                      <input
                        type="range"
                        class="w-full h-1 bg-[#ebebeb] rounded-lg appearance-none cursor-pointer"
                        min="0"
                        max="180"
                        x-model="text.textProperties.skewX"
                        @input="text.updateTextProperty('skewX', $event.target.value)"
                      />
                    </div>

                    <!-- SkewY -->
                    <div class="space-y-1">
                      <div class="flex justify-between items-center">
                        <span class="text-sm font-medium">SkewY</span>
                        <input
                          type="text"
                          class="w-12 bg-[#f8f9fa] rounded text-center px-1 py-0.5 text-sm border border-[#0001]"
                          x-model="text.textProperties.skewY"
                        />
                      </div>
                      <input
                        type="range"
                        class="w-full h-1 bg-[#ebebeb] rounded-lg appearance-none cursor-pointer"
                        min="0"
                        max="180"
                        x-model="text.textProperties.skewY"
                        @input="text.updateTextProperty('skewY', $event.target.value)"
                      />
                    </div>
                  </div>
                </div>

                <!-- Shadow -->
                <div
                  class="border border-[#0001] rounded overflow-hidden bg-[#37495d] text-white"
                >
                  <div
                    @click="text.showShadow = !text.showShadow"
                    class="flex justify-between items-center p-3 cursor-pointer"
                  >
                    <div class="flex items-center">
                      <svg
                        class="w-4 h-4 mr-2 transition-transform duration-200"
                        :class="text.showShadow ? 'rotate-90' : ''"
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 -960 960 960"
                      >
                        <path
                          fill="currentColor"
                          d="M504-480 320-664l56-56 240 240-240 240-56-56 184-184Z"
                        />
                      </svg>
                      <span class="text-sm font-medium">Shadow</span>
                    </div>
                    <div
                      class="relative inline-block w-10 align-middle select-none"
                    >
                      <input
                        type="checkbox"
                        id="shadow-toggle-text"
                        name="shadow-toggle"
                        class="sr-only peer"
                        x-model="text.textProperties.shadowEnabled"
                        @change="text.toggleShadow"
                      />
                      <label
                        for="shadow-toggle-text"
                        class="block h-6 overflow-hidden bg-[#1d2839] rounded-full cursor-pointer peer-checked:bg-[#007bff] peer-checked:after:translate-x-4 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-[#0001] after:border after:rounded-full after:h-5 after:w-5 after:transition-all"
                      >
                      </label>
                    </div>
                  </div>

                  <div
                    x-show="text.showShadow && text.textProperties.shadowEnabled"
                    x-transition
                    class="p-3 border-t border-[#0001] space-y-3 bg-white text-[#262626]"
                  >
                    <!-- Shadow Color -->
                    <div class="space-y-1">
                      <span class="text-sm font-medium">Color</span>
                      <div
                        class="w-full h-8 rounded border border-[#0001] overflow-hidden"
                      >
                        <input
                          type="color"
                          class="w-full h-10 transform -translate-y-1"
                          x-model="text.textProperties.shadowColor"
                          @input="text.updateShadow('color', $event.target.value)"
                        />
                      </div>
                    </div>

                    <!-- Shadow Blur -->
                    <div class="space-y-1">
                      <div class="flex justify-between items-center">
                        <span class="text-sm font-medium">Blur</span>
                        <input
                          type="number"
                          class="w-12 bg-[#f8f9fa] rounded text-center px-1 py-0.5 text-sm border border-[#0001]"
                          x-model="text.textProperties.shadowBlur"
                          readonly
                        />
                      </div>
                      <input
                        type="range"
                        class="w-full h-1 bg-[#ebebeb] rounded-lg appearance-none cursor-pointer"
                        min="0"
                        max="50"
                        x-model="text.textProperties.shadowBlur"
                        @input="text.updateShadow('blur', $event.target.value)"
                      />
                    </div>

                    <!-- Shadow OffsetX -->
                    <div class="space-y-1">
                      <div class="flex justify-between items-center">
                        <span class="text-sm font-medium">OffsetX</span>
                        <input
                          type="number"
                          class="w-12 bg-[#f8f9fa] rounded text-center px-1 py-0.5 text-sm border border-[#0001]"
                          x-model="text.textProperties.shadowOffsetX"
                          readonly
                        />
                      </div>
                      <input
                        type="range"
                        class="w-full h-1 bg-[#ebebeb] rounded-lg appearance-none cursor-pointer"
                        min="-100"
                        max="100"
                        x-model="text.textProperties.shadowOffsetX"
                        @input="text.updateShadow('offsetX', $event.target.value)"
                      />
                    </div>

                    <!-- Shadow OffsetY -->
                    <div class="space-y-1">
                      <div class="flex justify-between items-center">
                        <span class="text-sm font-medium">OffsetY</span>
                        <input
                          type="number"
                          class="w-12 bg-[#f8f9fa] rounded text-center px-1 py-0.5 text-sm border border-[#0001]"
                          x-model="text.textProperties.shadowOffsetY"
                          readonly
                        />
                      </div>
                      <input
                        type="range"
                        class="w-full h-1 bg-[#ebebeb] rounded-lg appearance-none cursor-pointer"
                        min="-100"
                        max="100"
                        x-model="text.textProperties.shadowOffsetY"
                        @input="text.updateShadow('offsetY', $event.target.value)"
                      />
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- Drawing Panel -->
          <div
            class="h-full w-80 flex flex-col overflow-auto border border-gray-200 rounded-md shadow-sm"
            x-show="activeTool === 'drawing'"
          >
            <!-- Panel Header -->
            <div class="p-4 border-b border-gray-200 bg-gray-50">
              <h3 class="text-lg font-medium text-gray-800">Drawing</h3>
            </div>

            <!-- Panel Body -->
            <div class="flex-1 overflow-y-auto p-4">
              <!-- Tabs -->
              <div class="space-y-4">
                <!-- Tab Buttons -->
                <div class="flex space-x-2 border-b border-gray-200">
                  <button
                    @click="drawing.updateDrawingMode('brush')"
                    :class="drawing.activeTab === 'brush' ? 'bg-gray-100 border-b-2 border-blue-500' : 'hover:bg-gray-50'"
                    class="flex items-center justify-center p-3 rounded-t"
                  >
                    <svg
                      class="w-[17px] h-[17px] text-gray-700"
                      xmlns="http://www.w3.org/2000/svg"
                      viewBox="0 0 512 512"
                    >
                      <path
                        fill="currentColor"
                        d="M167.02 309.34c-40.12 2.58-76.53 17.86-97.19 72.3-2.35 6.21-8 9.98-14.59 9.98-11.11 0-45.46-27.67-55.25-34.35C0 439.62 37.93 512 128 512c75.86 0 128-43.77 128-120.19 0-3.11-.65-6.08-.97-9.13l-88.01-73.34zM457.89 0c-15.16 0-29.37 6.71-40.21 16.45C213.27 199.05 192 203.34 192 257.09c0 13.7 3.25 26.76 8.73 38.7l63.82 53.18c7.21 1.8 14.64 3.03 22.39 3.03 62.11 0 98.11-45.47 211.16-256.46 7.38-14.35 13.9-29.85 13.9-45.99C512 20.64 486 0 457.89 0z"
                      />
                    </svg>
                  </button>
                  <button
                    @click="drawing.updateDrawingMode('eraser')"
                    :class="drawing.activeTab === 'eraser' ? 'bg-gray-100 border-b-2 border-blue-500' : 'hover:bg-gray-50'"
                    class="flex items-center justify-center p-3 rounded-t"
                  >
                    <svg
                      class="w-[17px] h-[17px] text-gray-700"
                      xmlns="http://www.w3.org/2000/svg"
                      viewBox="0 0 512 512"
                    >
                      <path
                        fill="currentColor"
                        d="M497.941 273.941c18.745-18.745 18.745-49.137 0-67.882l-160-160c-18.745-18.745-49.136-18.746-67.883 0l-256 256c-18.745 18.745-18.745 49.137 0 67.882l96 96A48.004 48.004 0 0 0 144 480h356c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12H355.883l142.058-142.059zm-302.627-62.627l137.373 137.373L265.373 416H150.628l-80-80 124.686-124.686z"
                      />
                    </svg>
                  </button>
                  <button
                    @click="drawing.updateDrawingMode('pencil')"
                    :class="drawing.activeTab === 'pencil' ? 'bg-gray-100 border-b-2 border-blue-500' : 'hover:bg-gray-50'"
                    class="flex items-center justify-center p-3 rounded-t"
                  >
                    <svg
                      class="w-[17px] h-[17px] text-gray-700"
                      xmlns="http://www.w3.org/2000/svg"
                      viewBox="0 0 512 512"
                    >
                      <path
                        fill="currentColor"
                        d="M79.18 282.94a32.005 32.005 0 0 0-20.24 20.24L0 480l4.69 4.69 92.89-92.89c-.66-2.56-1.57-5.03-1.57-7.8 0-17.67 14.33-32 32-32s32 14.33 32 32-14.33 32-32 32c-2.77 0-5.24-.91-7.8-1.57l-92.89 92.89L32 512l176.82-58.94a31.983 31.983 0 0 0 20.24-20.24l33.07-84.07-98.88-98.88-84.07 33.07zM369.25 28.32L186.14 227.81l97.85 97.85 199.49-183.11C568.4 67.48 443.73-55.94 369.25 28.32z"
                      />
                    </svg>
                  </button>
                </div>

                <!-- Tab Panels -->
                <div class="mt-4">
                  <!-- Brush Panel -->
                  <div x-show="drawing.activeTab === 'brush'" class="space-y-5">
                    <!-- Brush Preview -->
                    <div
                      class="background-image relative overflow-hidden rounded h-24"
                    >
                      <span
                        class="draw-circle-container absolute inset-0 flex items-center justify-center"
                      >
                        <span
                          class="draw-circle rounded-full"
                          :style="`background-color: ${drawing.brushSettings.color}; width: ${drawing.brushSettings.size}px; height: ${drawing.brushSettings.size}px; opacity: ${drawing.brushSettings.opacity}`"
                        ></span>
                      </span>
                    </div>

                    <!-- Brush Size -->
                    <div class="space-y-1">
                      <div class="flex justify-between items-center">
                        <span class="text-sm font-medium">Brush Size</span>
                        <input
                          type="number"
                          class="w-16 bg-gray-100 rounded text-center px-2 py-1 text-sm"
                          x-model="drawing.brushSettings.size"
                          @input="drawing.updateBrushSize($event.target.value)"
                          min="1"
                          max="100"
                        />
                      </div>
                      <input
                        type="range"
                        class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"
                        min="1"
                        max="100"
                        x-model="drawing.brushSettings.size"
                        @input="drawing.updateBrushSize($event.target.value)"
                      />
                    </div>

                    <!-- Opacity -->
                    <div class="space-y-1">
                      <div class="flex justify-between items-center">
                        <span class="text-sm font-medium">Opacity</span>
                        <input
                          type="number"
                          class="w-16 bg-gray-100 rounded text-center px-2 py-1 text-sm"
                          x-model="drawing.brushSettings.opacity"
                          @input="drawing.updateBrushOpacity($event.target.value)"
                          min="0"
                          max="1"
                          step="0.1"
                        />
                      </div>
                      <input
                        type="range"
                        class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"
                        min="0"
                        max="1"
                        step="0.1"
                        x-model="drawing.brushSettings.opacity"
                        @input="drawing.updateBrushOpacity($event.target.value)"
                      />
                    </div>

                    <!-- Color -->
                    <div class="space-y-1">
                      <span class="text-sm font-medium">Color</span>
                      <div
                        class="w-16 h-16 rounded border border-gray-300 overflow-hidden"
                      >
                        <input
                          type="color"
                          class="w-full h-20 transform -translate-y-2 -translate-x-1"
                          x-model="drawing.brushSettings.color"
                          @input="drawing.updateBrushColor($event.target.value)"
                          value="#f81717"
                        />
                      </div>
                    </div>
                  </div>

                  <!-- Eraser Panel -->
                  <div
                    x-show="drawing.activeTab === 'eraser'"
                    class="space-y-5"
                  >
                    <!-- Eraser Preview -->
                    <div
                      class="background-image relative overflow-hidden rounded h-24"
                    >
                      <span
                        class="draw-circle-container absolute inset-0 flex items-center justify-center"
                      >
                        <span
                          class="draw-circle rounded-full bg-yellow-500"
                          :style="`width: ${drawing.eraserSettings.size}px; height: ${drawing.eraserSettings.size}px;`"
                        ></span>
                      </span>
                    </div>

                    <!-- Invert Eraser Toggle -->
                    <div class="flex justify-between items-center">
                      <span class="text-sm font-medium">Invert Eraser</span>
                      <div
                        class="relative inline-block w-10 align-middle select-none"
                      >
                        <input
                          type="checkbox"
                          id="invert-eraser"
                          class="sr-only peer"
                          x-model="drawing.eraserSettings.invert"
                          @change="drawing.setupEraser()"
                        />
                        <label
                          for="invert-eraser"
                          class="block h-6 overflow-hidden bg-gray-300 rounded-full cursor-pointer peer-checked:bg-blue-500 peer-checked:after:translate-x-4 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all"
                        >
                        </label>
                      </div>
                    </div>

                    <!-- Size -->
                    <div class="space-y-1">
                      <div class="flex justify-between items-center">
                        <span class="text-sm font-medium">Size</span>
                        <input
                          type="number"
                          class="w-16 bg-gray-100 rounded text-center px-2 py-1 text-sm"
                          x-model="drawing.eraserSettings.size"
                          @input="drawing.updateBrushSize($event.target.value)"
                          min="1"
                          max="100"
                        />
                      </div>
                      <input
                        type="range"
                        class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"
                        min="1"
                        max="100"
                        x-model="drawing.eraserSettings.size"
                        @input="drawing.updateBrushSize($event.target.value)"
                      />
                    </div>
                  </div>

                  <!-- Pencil Panel -->
                  <div
                    x-show="drawing.activeTab === 'pencil'"
                    class="space-y-5"
                  >
                    <!-- Brush Type Dropdown -->
                    <div class="relative">
                      <div
                        @click="drawing.togglePencilDropdown()"
                        class="flex items-center justify-between p-2 bg-gray-100 rounded cursor-pointer"
                      >
                        <span x-text="drawing.pencilSettings.brushType"
                          >Pencil</span
                        >
                        <svg
                          class="w-4 h-4 transition-transform"
                          :class="drawing.pencilDropdownOpen ? 'rotate-180' : ''"
                          xmlns="http://www.w3.org/2000/svg"
                          viewBox="0 -960 960 960"
                        >
                          <path
                            fill="currentColor"
                            d="M480-333 240-573l51-51 189 189 189-189 51 51-240 240Z"
                          />
                        </svg>
                      </div>

                      <div
                        x-show="drawing.pencilDropdownOpen"
                        @click.away="drawing.pencilDropdownOpen = false"
                        x-transition
                        class="absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded shadow-lg max-h-60 overflow-y-auto"
                      >
                        <div
                          @click="drawing.changePencilType('Pencil')"
                          class="p-2 hover:bg-gray-100 cursor-pointer"
                          :class="drawing.pencilSettings.brushType === 'Pencil' ? 'bg-gray-100' : ''"
                        >
                          Pencil
                        </div>
                        <div
                          @click="drawing.changePencilType('Circle')"
                          class="p-2 hover:bg-gray-100 cursor-pointer"
                          :class="drawing.pencilSettings.brushType === 'Circle' ? 'bg-gray-100' : ''"
                        >
                          Circle
                        </div>
                        <div
                          @click="drawing.changePencilType('Spray')"
                          class="p-2 hover:bg-gray-100 cursor-pointer"
                          :class="drawing.pencilSettings.brushType === 'Spray' ? 'bg-gray-100' : ''"
                        >
                          Spray
                        </div>
                        <div
                          @click="drawing.changePencilType('hLine')"
                          class="p-2 hover:bg-gray-100 cursor-pointer"
                          :class="drawing.pencilSettings.brushType === 'hLine' ? 'bg-gray-100' : ''"
                        >
                          H Line
                        </div>
                        <div
                          @click="drawing.changePencilType('vLine')"
                          class="p-2 hover:bg-gray-100 cursor-pointer"
                          :class="drawing.pencilSettings.brushType === 'vLine' ? 'bg-gray-100' : ''"
                        >
                          V Line
                        </div>
                        <div
                          @click="drawing.changePencilType('square')"
                          class="p-2 hover:bg-gray-100 cursor-pointer"
                          :class="drawing.pencilSettings.brushType === 'square' ? 'bg-gray-100' : ''"
                        >
                          Square
                        </div>
                        <div
                          @click="drawing.changePencilType('diamond')"
                          class="p-2 hover:bg-gray-100 cursor-pointer"
                          :class="drawing.pencilSettings.brushType === 'diamond' ? 'bg-gray-100' : ''"
                        >
                          Diamond
                        </div>
                        <div
                          @click="drawing.changePencilType('texture')"
                          class="p-2 hover:bg-gray-100 cursor-pointer"
                          :class="drawing.pencilSettings.brushType === 'texture' ? 'bg-gray-100' : ''"
                        >
                          Texture
                        </div>
                      </div>
                    </div>

                    <!-- Size -->
                    <div class="space-y-1">
                      <div class="flex justify-between items-center">
                        <span class="text-sm font-medium">Size</span>
                        <input
                          type="number"
                          class="w-16 bg-gray-100 rounded text-center px-2 py-1 text-sm"
                          x-model="drawing.pencilSettings.size"
                          @input="drawing.updateBrushSize($event.target.value)"
                          min="1"
                          max="100"
                        />
                      </div>
                      <input
                        type="range"
                        class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"
                        min="1"
                        max="100"
                        x-model="drawing.pencilSettings.size"
                        @input="drawing.updateBrushSize($event.target.value)"
                      />
                    </div>

                    <!-- Shadow Width -->
                    <div class="space-y-1">
                      <div class="flex justify-between items-center">
                        <span class="text-sm font-medium">Shadow Width</span>
                        <input
                          type="number"
                          class="w-16 bg-gray-100 rounded text-center px-2 py-1 text-sm"
                          x-model="drawing.pencilSettings.shadowWidth"
                          @input="drawing.setupPencil()"
                          min="0"
                          max="20"
                        />
                      </div>
                      <input
                        type="range"
                        class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"
                        min="0"
                        max="20"
                        x-model="drawing.pencilSettings.shadowWidth"
                        @input="drawing.setupPencil()"
                      />
                    </div>

                    <div
                      x-show="parseInt(drawing.pencilSettings.shadowWidth) > 0"
                      class="space-y-3"
                    >
                      <!-- Shadow Offset X -->
                      <div class="space-y-1">
                        <div class="flex justify-between items-center">
                          <span class="text-sm font-medium"
                            >Shadow Offset X</span
                          >
                          <input
                            type="number"
                            class="w-16 bg-gray-100 rounded text-center px-2 py-1 text-sm"
                            x-model="drawing.pencilSettings.shadowOffsetX"
                            @input="drawing.setupPencil()"
                            min="-10"
                            max="10"
                          />
                        </div>
                        <input
                          type="range"
                          class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"
                          min="-10"
                          max="10"
                          x-model="drawing.pencilSettings.shadowOffsetX"
                          @input="drawing.setupPencil()"
                        />
                      </div>

                      <!-- Shadow Offset Y -->
                      <div class="space-y-1">
                        <div class="flex justify-between items-center">
                          <span class="text-sm font-medium"
                            >Shadow Offset Y</span
                          >
                          <input
                            type="number"
                            class="w-16 bg-gray-100 rounded text-center px-2 py-1 text-sm"
                            x-model="drawing.pencilSettings.shadowOffsetY"
                            @input="drawing.setupPencil()"
                            min="-10"
                            max="10"
                          />
                        </div>
                        <input
                          type="range"
                          class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"
                          min="-10"
                          max="10"
                          x-model="drawing.pencilSettings.shadowOffsetY"
                          @input="drawing.setupPencil()"
                        />
                      </div>

                      <!-- Shadow Color -->
                      <div class="space-y-1">
                        <span class="text-sm font-medium">Shadow Color</span>
                        <div
                          class="w-full h-10 rounded border border-gray-300 overflow-hidden"
                        >
                          <input
                            type="color"
                            class="w-full h-12 transform -translate-y-1"
                            x-model="drawing.pencilSettings.shadowColor"
                            @input="drawing.setupPencil()"
                          />
                        </div>
                      </div>
                    </div>

                    <!-- Drawing Color -->
                    <div class="space-y-1">
                      <span class="text-sm font-medium">Drawing Color</span>
                      <div
                        class="w-full h-10 rounded border border-gray-300 overflow-hidden"
                      >
                        <input
                          type="color"
                          class="w-full h-12 transform -translate-y-1"
                          x-model="drawing.pencilSettings.color"
                          @input="drawing.updateBrushColor($event.target.value)"
                        />
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- Settings Panel -->
          <div
                  x-show="activeTool === 'settings'"
                  class="w-80 h-full bg-white font-roboto box-border overflow-auto flex flex-col border-l border-gray-200"
          >
            <!-- Panel Header -->
            <div class="p-4 border-b border-gray-200 text-center">
              <h3 class="text-lg font-medium uppercase text-gray-800">Settings</h3>
            </div>

            <!-- Panel Body -->
            <div class="flex-1 overflow-y-auto p-4 space-y-6">
              <!-- Canvas Size -->
              <div class="space-y-3">
                <span class="text-sm font-medium text-gray-800">Canvas Size</span>

                <!-- Dropdown Selector -->
                <div class="relative w-full">
                  <!-- Selected Option -->
                  <div
                          @click="settings.toggleDropdown()"
                          class="flex items-center justify-between px-3 py-2.5 bg-gray-50 border border-gray-300 rounded-md cursor-pointer"
                  >
                    <span x-text="settings.selectedSize" class="text-gray-800">TikTok (1080x1920)</span>
                    <svg
                            class="w-3 h-3 text-gray-600"
                            :class="settings.dropdownOpen ? 'rotate-180' : ''"
                            xmlns="http://www.w3.org/2000/svg"
                            viewBox="0 0 20 20"
                            fill="currentColor"
                    >
                      <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                    </svg>
                  </div>

                  <!-- Dropdown Menu -->
                  <div
                          x-show="settings.dropdownOpen"
                          @click.away="settings.dropdownOpen = false"
                          class="absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-sm overflow-hidden"
                  >
                    <!-- Search Input -->
                    <div class="p-2 border-b border-gray-200">
                      <input
                              type="text"
                              x-model="settings.search"
                              @input="settings.filterSizes()"
                              placeholder="Search here..."
                              class="w-full p-2 text-gray-600 bg-gray-50 border-0 rounded-md focus:outline-none"
                      />
                    </div>

                    <!-- Options List with Scroll Bar on Right -->
                    <div class="max-h-60 overflow-y-auto">
                      <template
                              x-for="size in settings.search ? settings.filteredSizes : settings.canvasSizes"
                              :key="size.key"
                      >
                        <div
                                @click="settings.selectSize(size)"
                                class="px-3 py-2 cursor-pointer border-b border-gray-100"
                                :class="settings.selectedValue === size.value ? 'bg-gray-200' : 'hover:bg-gray-100'"
                        >
                          <span x-text="size.name" class="text-gray-800"></span>
                        </div>
                      </template>
                    </div>
                  </div>
                </div>

                <!-- Custom Size Inputs -->
                <div
                        x-show="settings.customSizeVisible"
                        class="mt-3 space-y-3"
                >
                  <div class="grid grid-cols-2 gap-3">
                    <!-- Width Input -->
                    <div class="space-y-1">
                      <label class="text-xs font-medium text-gray-600">Width (px)</label>
                      <div class="relative">
                        <input
                                type="number"
                                x-model.number="settings.customWidth"
                                class="w-full px-3 py-2 text-gray-800 bg-gray-50 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500"
                                min="1"
                        />
                      </div>
                    </div>

                    <!-- Height Input -->
                    <div class="space-y-1">
                      <label class="text-xs font-medium text-gray-600">Height (px)</label>
                      <div class="relative">
                        <input
                                type="number"
                                x-model.number="settings.customHeight"
                                class="w-full px-3 py-2 text-gray-800 bg-gray-50 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500"
                                min="1"
                        />
                      </div>
                    </div>
                  </div>

                  <!-- Apply Button -->
                  <button
                          @click="settings.applyCustomSize()"
                          class="w-full px-4 py-2 bg-navy-700 text-white rounded-md hover:bg-navy-800 focus:outline-none focus:ring-2 focus:ring-navy-500 focus:ring-offset-2"
                          style="background-color: #0A2647; border-color: #0A2647;"
                  >
                    Apply Custom Size
                  </button>
                </div>
              </div>

              <!-- Background Color -->
              <div class="space-y-3">
                <span class="text-sm font-medium text-gray-800">Background Color</span>
                <div class="flex items-center">
                  <div
                          class="w-12 h-12 rounded border border-gray-300 overflow-hidden bg-checkerboard"
                  >
                    <input
                            type="color"
                            x-model="settings.backgroundColor"
                            @input="settings.updateBackgroundColor()"
                            class="w-full h-full opacity-100 cursor-pointer"
                    />
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- Layers Panel -->
          <div
            x-show="activeTool === 'layers'"
            class="h-full w-80 flex flex-col bg-white border border-gray-200 rounded-md shadow-sm"
          >
            <!-- Panel Header -->
            <div class="p-4 border-b border-gray-200">
              <h3 class="text-lg font-medium text-gray-800">Layers</h3>
            </div>

            <!-- Panel Body -->
            <div class="flex-1 overflow-y-auto p-4">
              <!-- Layers Container -->
              <div class="space-y-2">
                <template x-if="layers.items.length > 0">
                  <div class="space-y-2">
                    <template
                      x-for="(layer, index) in layers.items"
                      :key="layer.id"
                    >
                      <div
                        @click="layers.selectLayer(layer)"
                        :class="layers.selectedLayerId === layer.id ? 'bg-blue-50 border-blue-300' : 'hover:bg-gray-50'"
                        class="p-2 border border-gray-200 rounded flex items-center justify-between cursor-pointer transition-colors"
                      >
                        <div class="flex items-center space-x-2">
                          <div
                            :class="layer.visible ? 'text-blue-500' : 'text-gray-400'"
                            @click.stop="layers.toggleLayerVisibility(layer)"
                            class="cursor-pointer"
                          >
                            <svg
                              class="w-5 h-5"
                              xmlns="http://www.w3.org/2000/svg"
                              viewBox="0 0 24 24"
                              fill="currentColor"
                            >
                              <path
                                d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"
                              />
                            </svg>
                          </div>
                          <span
                            x-text="layer.name || `Layer ${index + 1}`"
                            class="truncate max-w-[180px]"
                          ></span>
                        </div>
                        <div class="flex space-x-1">
                          <button
                            @click.stop="layers.moveLayerUp(index)"
                            :disabled="index === 0"
                            :class="index === 0 ? 'text-gray-300 cursor-not-allowed' : 'text-gray-600 hover:text-gray-900'"
                            class="p-1 rounded hover:bg-gray-100"
                          >
                            <svg
                              class="w-4 h-4"
                              xmlns="http://www.w3.org/2000/svg"
                              viewBox="0 0 24 24"
                              fill="currentColor"
                            >
                              <path
                                d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"
                              />
                            </svg>
                          </button>
                          <button
                            @click.stop="layers.moveLayerDown(index)"
                            :disabled="index === layers.items.length - 1"
                            :class="index === layers.items.length - 1 ? 'text-gray-300 cursor-not-allowed' : 'text-gray-600 hover:text-gray-900'"
                            class="p-1 rounded hover:bg-gray-100"
                          >
                            <svg
                              class="w-4 h-4"
                              xmlns="http://www.w3.org/2000/svg"
                              viewBox="0 0 24 24"
                              fill="currentColor"
                            >
                              <path
                                d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"
                              />
                            </svg>
                          </button>
                          <button
                            @click.stop="layers.deleteLayer(layer)"
                            class="p-1 rounded hover:bg-gray-100 text-gray-600 hover:text-red-500"
                          >
                            <svg
                              class="w-4 h-4"
                              xmlns="http://www.w3.org/2000/svg"
                              viewBox="0 0 24 24"
                              fill="currentColor"
                            >
                              <path
                                d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"
                              />
                            </svg>
                          </button>
                        </div>
                      </div>
                    </template>
                  </div>
                </template>

                <!-- Empty state -->
                <div
                  x-show="layers.items.length === 0"
                  class="text-center text-gray-500 py-8"
                >
                  No layers found!
                </div>
              </div>
            </div>
          </div>
          <!-- Clip Arts Panel -->
          <div
            x-show="activeTool === 'clip_arts'"
            class="h-full bg-white font-roboto box-border overflow-auto shadow-[0px_0px_10px_0px_#ddd] transition-[background,transform] duration-200 ease-in-out flex flex-col rounded-[6px] border border-[#ddd]"
          >
            <!-- Panel Header -->
            <div class="p-4 border-b border-[#0001]">
              <h3 class="text-lg font-medium text-[#262626]">Clip Arts</h3>
            </div>

            <!-- Panel Body -->
            <div class="flex-1 overflow-y-auto p-4">
              <!-- Media Component -->
              <div class="grid grid-cols-3 gap-3">
                <!-- Clip Art Items -->
                <div
                  @click="clipArts.addClipArt('./images/clip_arts/1.png')"
                  class="aspect-square bg-[#f8f9fa] border border-[#0001] rounded overflow-hidden hover:border-[#007bff] cursor-pointer transition"
                >
                  <img
                    src="./images/clip_arts/1.png"
                    alt="Clip art 1"
                    class="w-full h-full object-contain p-2"
                  />
                </div>

                <div
                  @click="clipArts.addClipArt('./images/clip_arts/2.png')"
                  class="aspect-square bg-[#f8f9fa] border border-[#0001] rounded overflow-hidden hover:border-[#007bff] cursor-pointer transition"
                >
                  <img
                    src="./images/clip_arts/2.png"
                    alt="Clip art 2"
                    class="w-full h-full object-contain p-2"
                  />
                </div>

                <div
                  @click="clipArts.addClipArt('./images/clip_arts/3.png')"
                  class="aspect-square bg-[#f8f9fa] border border-[#0001] rounded overflow-hidden hover:border-[#007bff] cursor-pointer transition"
                >
                  <img
                    src="./images/clip_arts/3.png"
                    alt="Clip art 3"
                    class="w-full h-full object-contain p-2"
                  />
                </div>
              </div>
            </div>
          </div>
          <!-- Mask Panel -->
          <div
                  x-show="activeTool === 'mask'"
                  class="h-full bg-white font-roboto box-border overflow-auto shadow-[0px_0px_10px_0px_#ddd] transition-[background,transform] duration-200 ease-in-out flex flex-col rounded-[6px] border border-[#ddd]"
          >
            <!-- Panel Header -->
            <div class="p-4 border-b border-[#0001] text-center">
              <h3 class="text-lg font-medium text-[#262626] uppercase">Mask</h3>
            </div>

            <!-- Panel Body -->
            <div class="flex-1 overflow-y-auto p-4">
              <!-- Professional warning message -->
              <div
                      x-show="!window.canvas || !window.canvas.getActiveObject() || (window.canvas.getActiveObject() && !window.canvas.getActiveObject().type.includes('image'))"
                      class="mb-4 p-3 bg-blue-50 border border-blue-200 text-blue-700 rounded flex items-center"
              >
                <svg class="w-5 h-5 mr-2 text-blue-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <circle cx="12" cy="12" r="10"></circle>
                  <line x1="12" y1="8" x2="12" y2="12"></line>
                  <line x1="12" y1="16" x2="12.01" y2="16"></line>
                </svg>
                <span class="text-sm font-medium">Please select an image before applying a mask</span>
              </div>

              <!-- Mask Controls -->
              <div class="mb-5 flex justify-end">
                <button
                        @click="masks.removeMask()"
                        class="flex items-center bg-white hover:bg-gray-50 text-gray-700 border border-gray-300 font-medium py-1.5 px-3 rounded shadow-sm transition-colors duration-200"
                >
                  <svg class="w-4 h-4 mr-1.5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M3 6h18"></path>
                    <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"></path>
                    <path d="M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                  </svg>
                  Remove Mask
                </button>
              </div>

              <!-- Media Component -->
              <div class="grid grid-cols-2 sm:grid-cols-2 gap-2">
                <!-- Circle Mask -->
                <div
                        @click="masks.applyMask('./images/mask/1.svg')"
                        class="aspect-square bg-[#f1f1f1] border border-[#ddd] rounded overflow-hidden hover:border-[#007bff] cursor-pointer transition shadow-sm"
                >
                  <img
                          src="./images/mask/1.svg"
                          alt="Circle Mask"
                          class="w-full h-full object-contain p-2"
                          loading="lazy"
                  />
                </div>

                <!-- Arrow Mask -->
                <div
                        @click="masks.applyMask('./images/mask/2.svg')"
                        class="aspect-square bg-[#f1f1f1] border border-[#ddd] rounded overflow-hidden hover:border-[#007bff] cursor-pointer transition shadow-sm"
                >
                  <img
                          src="./images/mask/2.svg"
                          alt="Arrow Mask"
                          class="w-full h-full object-contain p-2"
                          loading="lazy"
                  />
                </div>

                <!-- Triangle Mask -->
                <div
                        @click="masks.applyMask('./images/mask/3.svg')"
                        class="aspect-square bg-[#f1f1f1] border border-[#ddd] rounded overflow-hidden hover:border-[#007bff] cursor-pointer transition shadow-sm"
                >
                  <img
                          src="./images/mask/3.svg"
                          alt="Triangle Mask"
                          class="w-full h-full object-contain p-2"
                          loading="lazy"
                  />
                </div>

                <!-- Square Mask -->
                <div
                        @click="masks.applyMask('./images/mask/5.svg')"
                        class="aspect-square bg-[#f1f1f1] border border-[#ddd] rounded overflow-hidden hover:border-[#007bff] cursor-pointer transition shadow-sm"
                >
                  <img
                          src="./images/mask/5.svg"
                          alt="Square Mask"
                          class="w-full h-full object-contain p-2"
                          loading="lazy"
                  />
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!--canvas area-->
      <div class="relative w-full h-full overflow-hidden flex flex-col justify-center items-center">

        <div class="flex justify-center items-center w-full h-full relative">
          <!-- Quick Options Bar -->
          <div
                  class="font-roboto box-border h-fit bg-white p-[11px] flex gap-[10px] rounded-[10px] shadow-[0px_0px_10px_0px_#ddd] absolute top-[90px] left-1/2 transform -translate-x-1/2 z-[99999]"
          >
            <!-- Canvas Alignment -->
            <div class="flex items-center gap-1">
              <!-- Left -->
              <button
                      @click="toolbar.alignObjects('left')"
                      class="p-1.5 rounded-md hover:bg-[#f8f9fa] transition-colors duration-200 cursor-pointer"
                      :class="{'opacity-50 pointer-events-none': !toolbar.hasSelection}"
              >
                <svg
                        width="17"
                        height="17"
                        fill="#000"
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 24 24"
                >
                  <path
                          d="M4 3c.41 0 .75.34.75.75v16.5a.75.75 0 1 1-1.5 0V3.75c0-.41.34-.75.75-.75zm5 3h9a2 2 0 0 1 2 2v1a2 2 0 0 1-2 2H9a2 2 0 0 1-2-2V8c0-1.1.9-2 2-2zm0 7h4a2 2 0 0 1 2 2v1a2 2 0 0 1-2 2H9a2 2 0 0 1-2-2v-1c0-1.1.9-2 2-2zm0-5.5a.5.5 0 0 0-.5.5v1c0 .28.22.5.5.5h9a.5.5 0 0 0 .5-.5V8a.5.5 0 0 0-.5-.5H9zm0 7a.5.5 0 0 0-.5.5v1c0 .28.22.5.5.5h4a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5H9z"
                  ></path>
                </svg>
              </button>

              <!-- Center Horizontal -->
              <button
                      @click="toolbar.alignObjects('centerH')"
                      class="p-1.5 rounded-md hover:bg-[#f8f9fa] transition-colors duration-200 cursor-pointer"
                      :class="{'opacity-50 pointer-events-none': !toolbar.hasSelection}"
              >
                <svg
                        width="17"
                        height="17"
                        fill="#000"
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 24 24"
                >
                  <path
                          d="M11.25 13v-2H7a2 2 0 0 1-2-2V8c0-1.1.9-2 2-2h4.25V3.75a.75.75 0 1 1 1.5 0V6H17a2 2 0 0 1 2 2v1a2 2 0 0 1-2 2h-4.25v2H14a2 2 0 0 1 2 2v1a2 2 0 0 1-2 2h-1.25v2.25a.75.75 0 1 1-1.5 0V18H10a2 2 0 0 1-2-2v-1c0-1.1.9-2 2-2h1.25zM7 7.5a.5.5 0 0 0-.5.5v1c0 .28.22.5.5.5h10a.5.5 0 0 0 .5-.5V8a.5.5 0 0 0-.5-.5H7zm3 7a.5.5 0 0 0-.5.5v1c0 .28.22.5.5.5h4a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-4z"
                  ></path>
                </svg>
              </button>

              <!-- Right -->
              <button
                      @click="toolbar.alignObjects('right')"
                      class="p-1.5 rounded-md hover:bg-[#f8f9fa] transition-colors duration-200 cursor-pointer"
                      :class="{'opacity-50 pointer-events-none': !toolbar.hasSelection}"
              >
                <svg
                        width="17"
                        height="17"
                        fill="#000"
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 24 24"
                >
                  <path
                          d="M20 3a.75.75 0 0 0-.75.75v16.5a.75.75 0 1 0 1.5 0V3.75A.75.75 0 0 0 20 3zm-5 3H6a2 2 0 0 0-2 2v1c0 1.1.9 2 2 2h9a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 7h-4a2 2 0 0 0-2 2v1c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2v-1a2 2 0 0 0-2-2zm0-5.5c.28 0 .5.22.5.5v1a.5.5 0 0 1-.5.5H6a.5.5 0 0 1-.5-.5V8c0-.28.22-.5.5-.5h9zm0 7c.28 0 .5.22.5.5v1a.5.5 0 0 1-.5.5h-4a.5.5 0 0 1-.5-.5v-1c0-.28.22-.5.5-.5h4z"
                  ></path>
                </svg>
              </button>
            </div>

            <!-- Vertical Alignment -->
            <div class="flex items-center gap-1">
              <!-- Top -->
              <button
                      @click="toolbar.alignObjects('top')"
                      class="p-1.5 rounded-md hover:bg-[#f8f9fa] transition-colors duration-200 cursor-pointer"
                      :class="{'opacity-50 pointer-events-none': !toolbar.hasSelection}"
              >
                <svg
                        width="17"
                        height="17"
                        fill="#000"
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 24 24"
                >
                  <path
                          d="M21 4c0 .41-.34.75-.75.75H3.75a.75.75 0 0 1 0-1.5h16.5c.41 0 .75.34.75.75zM11 9v9a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V9c0-1.1.9-2 2-2h1a2 2 0 0 1 2 2zm7 0v4a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2V9c0-1.1.9-2 2-2h1a2 2 0 0 1 2 2zM9.5 9a.5.5 0 0 0-.5-.5H8a.5.5 0 0 0-.5.5v9c0 .28.22.5.5.5h1a.5.5 0 0 0 .5-.5V9zm7 0a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v4c0 .28.22.5.5.5h1a.5.5 0 0 0 .5-.5V9z"
                  ></path>
                </svg>
              </button>

              <!-- Center Vertical -->
              <button
                      @click="toolbar.alignObjects('centerV')"
                      class="p-1.5 rounded-md hover:bg-[#f8f9fa] transition-colors duration-200 cursor-pointer"
                      :class="{'opacity-50 pointer-events-none': !toolbar.hasSelection}"
              >
                <svg
                        width="17"
                        height="17"
                        fill="#000"
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 24 24"
                >
                  <path
                          d="M11 11.25h2V7c0-1.1.9-2 2-2h1a2 2 0 0 1 2 2v4.25h2.25a.75.75 0 1 1 0 1.5H18V17a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-4.25h-2V14a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2v-1.25H3.75a.75.75 0 1 1 0-1.5H6V10c0-1.1.9-2 2-2h1a2 2 0 0 1 2 2v1.25zM16.5 7a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v10c0 .28.22.5.5.5h1a.5.5 0 0 0 .5-.5V7zm-7 3a.5.5 0 0 0-.5-.5H8a.5.5 0 0 0-.5.5v4c0 .28.22.5.5.5h1a.5.5 0 0 0 .5-.5v-4z"
                  ></path>
                </svg>
              </button>

              <!-- Bottom -->
              <button
                      @click="toolbar.alignObjects('bottom')"
                      class="p-1.5 rounded-md hover:bg-[#f8f9fa] transition-colors duration-200 cursor-pointer"
                      :class="{'opacity-50 pointer-events-none': !toolbar.hasSelection}"
              >
                <svg
                        width="17"
                        height="17"
                        fill="#000"
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 24 24"
                >
                  <path
                          d="M21 20c0 .41-.34.75-.75.75H3.75a.75.75 0 1 1 0-1.5h16.5c.41 0 .75.34.75.75zM11 6v9a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h1a2 2 0 0 1 2 2zm7 5v4a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-4c0-1.1.9-2 2-2h1a2 2 0 0 1 2 2zM9.5 6a.5.5 0 0 0-.5-.5H8a.5.5 0 0 0-.5.5v9c0 .28.22.5.5.5h1a.5.5 0 0 0 .5-.5V6zm7 5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v4c0 .28.22.5.5.5h1a.5.5 0 0 0 .5-.5v-4z"
                  ></path>
                </svg>
              </button>
            </div>

            <!-- Separator -->
            <div class="h-8 w-px bg-[#ebebeb] mx-1"></div>

            <!-- Crop Tools -->
            <div class="flex items-center">
              <!-- Crop Tool -->
              <button
                      @click="toolbar.startCrop()"
                      class="p-1.5 rounded-md hover:bg-[#f8f9fa] transition-colors duration-200 cursor-pointer"
                      :class="{'opacity-50 pointer-events-none': !toolbar.canCrop, 'hidden': toolbar.cropActive}"
              >
                <svg
                        width="17"
                        height="17"
                        fill="#000"
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 -960 960 960"
                >
                  <path
                          d="M680-40v-160H280q-33 0-56.5-23.5T200-280v-400H40v-80h160v-160h80v640h640v80H760v160h-80Zm0-320v-320H360v-80h320q33 0 56.5 23.5T760-680v320h-80Z"
                  ></path>
                </svg>
              </button>

              <!-- Apply Crop (only shown when cropping is active) -->
              <button
                      @click="toolbar.applyCrop()"
                      class="p-1.5 rounded-md hover:bg-[#f8f9fa] transition-colors duration-200 cursor-pointer"
                      :class="{'hidden': !toolbar.cropActive}"
              >
                <svg
                        width="17"
                        height="17"
                        fill="#000"
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 -960 960 960"
                >
                  <path
                          d="M382-240 154-468l57-57 171 171 367-367 57 57-424 424Z"
                  ></path>
                </svg>
              </button>

              <!-- Reset Crop (only shown when cropping is active) -->
              <button
                      @click="toolbar.resetCrop()"
                      class="p-1.5 rounded-md hover:bg-[#f8f9fa] transition-colors duration-200 cursor-pointer"
                      :class="{'hidden': !toolbar.cropActive}"
              >
                <svg
                        width="17"
                        height="17"
                        fill="#000"
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 -960 960 960"
                >
                  <path
                          d="M440-122q-121-15-200.5-105.5T160-440q0-66 26-126.5T260-672l57 57q-38 34-57.5 79T240-440q0 88 56 155.5T440-202v80Zm80 0v-80q87-16 143.5-83T720-440q0-100-70-170t-170-70h-3l44 44-56 56-140-140 140-140 56 56-44 44h3q134 0 227 93t93 227q0 121-79.5 211.5T520-122Z"
                  ></path>
                </svg>
              </button>
            </div>

            <!-- Separator -->
            <div class="h-8 w-px bg-[#ebebeb] mx-1"></div>

            <!-- Delete -->
            <button
                    @click="toolbar.deleteSelected()"
                    class="p-1.5 rounded-md hover:bg-[#f8f9fa] transition-colors duration-200 cursor-pointer"
                    :class="{'opacity-50 pointer-events-none': !toolbar.hasSelection || toolbar.cropActive}"
            >
              <svg
                      width="14"
                      height="14"
                      fill="#000"
                      xmlns="http://www.w3.org/2000/svg"
                      viewBox="0 0 448 512"
              >
                <path
                        d="M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1 -32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1 -32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1 -32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.7 23.7 0 0 0 -21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0 -16-16z"
                ></path>
              </svg>
            </button>
          </div>

          <!-- Canvas container -->
          <div
                  id="canvas-container"
                  class="bg-white relative border border-gray-200 rounded-md overflow-hidden shadow-md font-roboto max-w-full select-none"
                  style="width: min(1200px, 80vw); height: min(660px, 80vw); aspect-ratio: 1 / 1;"
          >
            <canvas
                    id="image-editor"
                    x-ref="canvas"
                    class="w-full h-full absolute inset-0 box-border select-none touch-none cursor-default"
            ></canvas>
          </div>
        </div>
      </div>
    </div>
    <script type="module" src="/js/app.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/circletype@2.3.0/dist/circletype.min.js"></script>
  </body>
</html>
